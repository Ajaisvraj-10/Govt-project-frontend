{"remainingRequest":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/babel-loader/lib/index.js!/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/vuetify-loader/lib/loader.js??ref--17-0!/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/muhammed/Documents/vue_projects/leadfinder-crm/src/views/app/pages/new-letters.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/src/views/app/pages/new-letters.vue","mtime":1681816712000},{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBNYWluSGVhZGVyIGZyb20gJy9zcmMvdmlld3MvYXBwL3BhZ2VzL2hlYWRlcic7CmV4cG9ydCBkZWZhdWx0IHsKICBtZXRhSW5mbzogewogICAgdGl0bGU6ICJOZXdzIExldHRlciIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuZXdzX2xldHRlcnM6IFtdLAogICAgICBhd3NfZW1haWw6ICcnLAogICAgICBlZGl0X2VtYWlsOiBmYWxzZSwKICAgICAgc2hvd192ZXJpZnlfZW1haWw6IGZhbHNlLAogICAgICBjcm50X3RhYjogJ3RhYjEnLAogICAgICBjcm50X3RhYl9uZXdzbGV0dGVyOiAnbmV3c2xldHRlcicKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBNYWluSGVhZGVyOiBNYWluSGVhZGVyCiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LmF1dGhfdG9rZW4pIHsKICAgICAgdGhpcy4kcm9vdC5hdXRoX3Rva2VuID0gdGhpcy4kcm91dGUucXVlcnkuYXV0aF90b2tlbjsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImF1dGhfdG9rZW4iLCB0aGlzLiRyb290LmF1dGhfdG9rZW4pOwogICAgfQoKICAgIGlmICh0aGlzLiRyb290LmF1dGhfdG9rZW4pIHsKICAgICAgdGhpcy5nZXRVc2VyMigpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0TmV3c0xldHRlcnM6IGZ1bmN0aW9uIGdldE5ld3NMZXR0ZXJzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOwogICAgICBoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXphdGlvbiIsICJCZWFyZXIgIiArIHRoaXMuJHJvb3QuYXV0aF90b2tlbik7CiAgICAgIGZldGNoKHRoaXMuYXBpX3VybCArICcvZW1wbG95ZWUvY2FtcGFpZ25zLz9jb250ZW50X3R5cGU9TmV3cyBMZXR0ZXInLCB7CiAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICBoZWFkZXJzOiBoZWFkZXJzCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoanNvbkRhdGEpIHsKICAgICAgICBfdGhpcy5uZXdzX2xldHRlcnMgPSBqc29uRGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0VXNlcjI6IGZ1bmN0aW9uIGdldFVzZXIyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsKICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiQmVhcmVyICIgKyB0aGlzLiRyb290LmF1dGhfdG9rZW4pOwogICAgICBmZXRjaCh0aGlzLmFwaV91cmwgKyAnL2VtcGxveWVlL3VzZXJfZGF0YS8nLCB7CiAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICBoZWFkZXJzOiBoZWFkZXJzCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoanNvbkRhdGEpIHsKICAgICAgICBpZiAoanNvbkRhdGEuc3VjY2VzcykgewogICAgICAgICAgX3RoaXMyLiRyb290LnVzZXJJbmZvID0ganNvbkRhdGEudXNlcjsKICAgICAgICAgIF90aGlzMi4kcm9vdC51c2VySWQgPSBqc29uRGF0YS51c2VyLmlkOwoKICAgICAgICAgIF90aGlzMi5nZXROZXdzTGV0dGVycygpOwoKICAgICAgICAgIGlmIChqc29uRGF0YS51c2VyLmF3c19lbWFpbCkgewogICAgICAgICAgICBfdGhpczIuYXdzX2VtYWlsID0ganNvbkRhdGEudXNlci5hd3NfZW1haWw7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczIuYXdzX2VtYWlsID0ganNvbkRhdGEudXNlci5lbWFpbDsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoX3RoaXMyLiRyb290LnVzZXJJbmZvLmF3c192ZXJpZmljYXRpb24pIHt9IGVsc2UgewogICAgICAgICAgICBfdGhpczIuc2hvd192ZXJpZnlfZW1haWwgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdmVyaWZ5RW1haWw6IGZ1bmN0aW9uIHZlcmlmeUVtYWlsKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsKICAgICAgdmFyIGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1kYXRhLmFwcGVuZCgnYXdzX2VtYWlsJywgdGhpcy5hd3NfZW1haWwpOwogICAgICBoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXphdGlvbiIsICJCZWFyZXIgIiArIHRoaXMuJHJvb3QuYXV0aF90b2tlbik7CiAgICAgIGZldGNoKHRoaXMuYXBpX3VybCArICcvZW1wbG95ZWUvdmVyaWZ5X21haWxfYXdzLycsIHsKICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICBib2R5OiBmb3JtZGF0YSwKICAgICAgICBoZWFkZXJzOiBoZWFkZXJzCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoanNvbkRhdGEpIHsKICAgICAgICBpZiAoanNvbkRhdGEuc3VjY2VzcykgewogICAgICAgICAgLy8gdGhpcy4kYnZNb2RhbC5oaWRlKCdhd3MtdmVyaWZ5LW1vZGFsJykKICAgICAgICAgIF90aGlzMy5lZGl0X2VtYWlsID0gZmFsc2U7CiAgICAgICAgICBfdGhpczMuc2hvd192ZXJpZnlfZW1haWwgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["new-letters.vue"],"names":[],"mappings":"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","sourcesContent":["\r\n<template>\r\n  <div class=\"main-content\">\r\n    <MainHeader></MainHeader>\r\n    <div class=\"\">\r\n      <main class=\"lead-main\" >\r\n        <div class=\"card\" v-for=\"news_letter in news_letters\" @click=\"$router.push('/news-letter/'+news_letter.id)\">\r\n          <div class=\"flex-align\">\r\n            <div>\r\n              <h6 style=\"color:#9c2f5f;font-size:0.85rem;padding-bottom: 0.25rem;font-weight: 600;\">{{news_letter.status}}</h6>\r\n              <h3 class=\"text-20\" style=\"color:#2d2d2d;font-weight: 500;\">{{news_letter.name}}</h3>\r\n            </div>\r\n            <div>\r\n              <i class=\"fa fa-chevron-right\" style=\"color: #7b7b7b;\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"flex-align py-1\" >\r\n            <div>\r\n              <h5 style=\"color:#2d2d2d;font-size: 1rem;font-weight:400;line-height: 1.5rem;\">{{news_letter.subject}}</h5>\r\n              <h5 style=\"color:#2d2d2d;font-size: 1rem;font-weight:400;line-height: 1.5rem;\" v-for=\"category in news_letter.categories\">\r\n                <i class=\"fa fa-star\"></i>{{category}}\r\n              </h5>\r\n            </div>\r\n          </div>\r\n          <div class=\"d-flex g2\">\r\n            <div class=\"attribute_snippet\">\r\n              <i class=\"fa fa-stream\" style=\"font-size:11px;\"></i>\r\n                {{ news_letter.lead_status }}\r\n            </div>\r\n          </div>\r\n          \r\n          <h6 class=\"date mt-2\" style=\"color:#767676;font-weight:400;\">Created at {{timeAgo(news_letter.created_on)}}</h6>\r\n        </div>\r\n      </main>\r\n      <div class=\"footer-next\">\r\n        <button class=\"btn btn-lg btn-primary py-2 text-19 px-3 w-100\" :disabled=\"show_verify_email\" v-b-modal.newsletter>Create News Letter</button>\r\n        <!--<button class=\"btn btn-lg btn-primary py-2 text-19 px-3 w-100\" :disabled=\"show_verify_email\" @click=\"$router.push('/news-letter')\">Create News Letter</button>-->\r\n      </div>\r\n    </div>\r\n\r\n    <div>\r\n    <b-modal id=\"newsletter\" hide-header hide-footer>\r\n      <main class=\"text-center\">\r\n        <div class=\"proflie-page\" style=\"height: 100%;\" >\r\n          <div class=\"flex-align my-1\" >\r\n            <div style=\"width:30px;\">\r\n              <img src=\"/images/back.png\" width=\"26\" style=\"opacity:.7;\"  @click=\"crnt_tab_newsletter='newsletter'\"  \r\n              v-if=\"crnt_tab_newsletter=='newsletter-edit'\"\r\n              >\r\n            </div>\r\n            <h2 class=\"text-center text-22\">generate</h2>\r\n            <div style=\"width:30px;\">\r\n              <img src=\"/images/close2.png\" width=\"14\" style=\"opacity:.7;\" @click=\"$bvModal.hide('newsletter')\">\r\n            </div>\r\n          </div>\r\n          <section class=\"profile-sec px-4\" v-if=\"crnt_tab_newsletter=='newsletter'\">\r\n            \r\n            fggf\r\n            <button class=\"btn btn-info btn-block my-4 py-3 text-18\" @click=\"crnt_tab_newsletter='newsletter-edit'\">Generate</button>\r\n            \r\n          </section>\r\n          <section class=\"profile-sec px-4\" v-if=\"crnt_tab_newsletter=='newsletter-edit'\">\r\n            \r\n          </section>\r\n         \r\n        </div>\r\n      </main>\r\n    </b-modal>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport MainHeader from '/src/views/app/pages/header'\r\n\r\nexport default {\r\n  metaInfo: {\r\n    title: \"News Letter\"\r\n  },\r\n  data() {\r\n    return {\r\n      news_letters:[],\r\n      aws_email:'',\r\n      edit_email:false,\r\n      show_verify_email:false,\r\n      crnt_tab: 'tab1',\r\n      crnt_tab_newsletter: 'newsletter',\r\n\r\n    };\r\n  },\r\n  components:{\r\n      MainHeader,\r\n    },\r\n  mounted(){\r\n    if(this.$route.query.auth_token){\r\n      this.$root.auth_token = this.$route.query.auth_token\r\n      localStorage.setItem(\"auth_token\",this.$root.auth_token)\r\n    }\r\n    if(this.$root.auth_token){\r\n      this.getUser2()\r\n    }\r\n  },\r\n  methods: {\r\n    getNewsLetters() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.auth_token);\r\n      fetch(this.api_url+'/employee/campaigns/?content_type=News Letter', {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.news_letters = jsonData\r\n      })\r\n    },\r\n    getUser2() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.auth_token);\r\n      fetch(this.api_url+'/employee/user_data/', {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        if(jsonData.success){\r\n          this.$root.userInfo = jsonData.user\r\n          this.$root.userId = jsonData.user.id\r\n          this.getNewsLetters()\r\n          if(jsonData.user.aws_email){\r\n            this.aws_email = jsonData.user.aws_email\r\n          }else{\r\n            this.aws_email = jsonData.user.email\r\n          }\r\n          if(this.$root.userInfo.aws_verification){\r\n          }\r\n          else{\r\n            this.show_verify_email = true\r\n          }\r\n        }\r\n      })\r\n    },\r\n    verifyEmail() {\r\n      var headers = new Headers();\r\n      var formdata = new FormData()\r\n      formdata.append('aws_email',this.aws_email)\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.auth_token);\r\n      fetch(this.api_url+'/employee/verify_mail_aws/', {\r\n          method : 'POST',\r\n          body : formdata,\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        if(jsonData.success){\r\n          // this.$bvModal.hide('aws-verify-modal')\r\n          this.edit_email = false\r\n          this.show_verify_email = false\r\n        }\r\n      })\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n\r\n@import './style/style.css';\r\n  \r\n\r\n  .footer-next{\r\n  height:70px;\r\n  display:flex;\r\n\r\n\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/views/app/pages"}]}