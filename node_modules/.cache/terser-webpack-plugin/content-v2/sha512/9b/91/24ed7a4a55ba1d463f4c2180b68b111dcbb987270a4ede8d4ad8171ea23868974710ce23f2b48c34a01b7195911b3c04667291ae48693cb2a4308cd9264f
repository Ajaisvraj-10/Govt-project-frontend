{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-374848ee\"],{\"0959\":function(t,e,a){\"use strict\";var s=a(\"1329\"),o=a.n(s);o.a},1329:function(t,e,a){},\"23ca\":function(t,e,a){\"use strict\";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"main-content\",class:t.background_start?\"\":\"lead-scroll\"},[a(\"main\",{staticClass:\"lead-main1 edit-main\",style:t.setStyle(t.template.body_style)},t._l(t.blocks,(function(e){return a(\"div\",{staticClass:\" w-100\"},[e.status&&\"Logo\"==e.block_type?a(\"div\",{staticClass:\"logo\",on:{click:function(a){return t.selectBlock({name:e.block_type},e)}}},[a(\"img\",{attrs:{src:e.image}})]):t._e(),e.status&&\"Image\"==e.block_type?a(\"div\",{staticClass:\"add-photo\",on:{click:function(a){return t.selectBlock({name:e.block_type},e)}}},[a(\"img\",{attrs:{src:\"/images/photo-album.png\"}}),a(\"h6\",{staticClass:\"text-dark\"},[t._v(\"Add Your Photo\")])]):t._e(),e.status&&\"Heading\"==e.block_type?a(\"h3\",{staticClass:\"add-heading text-center text-28 w-100\",staticStyle:{\"font-family\":\"lato\",\"font-weight\":\"500\"},style:t.setStyle(e.content_style),on:{click:function(a){return t.selectBlock({name:e.block_type},e)}}},[t._v(\" \"+t._s(e.text)+\" \")]):t._e(),e.status&&\"Paragraph\"==e.block_type?a(\"h5\",{staticClass:\"add-paragraph text-16 lh3 text-center\",style:t.setStyle(e.content_style),domProps:{innerHTML:t._s(e.text)},on:{click:function(a){return t.selectBlock({name:e.block_type},e)}}}):t._e(),e.status&&\"Button\"==e.block_type?a(\"div\",{staticClass:\"button add-button mx-auto text-center\",on:{click:function(a){return t.selectBlock({name:e.block_type},e)}}},[a(\"button\",{staticClass:\"btn rounded text-18 text-white bg-success px-4\",style:t.setStyle(e.content_style)},[t._v(t._s(e.text))])]):t._e(),a(\"div\",{staticClass:\"divider\",staticStyle:{\"border-bottom\":\"1px solid red\",display:\"none\"}}),a(\"div\",{staticClass:\"spacing\",staticStyle:{\"padding-top\":\"5px\",\"padding-bottom\":\"5px\",\"padding-left\":\"5px\",\"padding-right\":\"5px\",display:\"none\"}}),e.status&&\"Social\"==e.block_type?a(\"div\",{staticClass:\"footers\",on:{click:function(a){return t.selectBlock({name:e.block_type},e)}}},[t._m(0,!0)]):t._e()])})),0),t.is_view?t._e():a(\"div\",{staticClass:\"footer-edit\"},[a(\"router-link\",{staticClass:\"footer-item\",staticStyle:{\"flex-direction\":\"column\",\"font-size\":\"14px\",color:\"black\"},attrs:{to:\"/campaigns\"}},[a(\"i\",{staticClass:\"fa fa-home\",staticStyle:{\"font-size\":\"20px\"}}),t._v(\"Home \")]),a(\"div\",{directives:[{name:\"b-modal\",rawName:\"v-b-modal.edit-modal\",modifiers:{\"edit-modal\":!0}}],staticClass:\"footer-item\",staticStyle:{\"flex-direction\":\"column\",\"font-size\":\"14px\",color:\"black\"}},[a(\"i\",{staticClass:\"fa fa-plus\",staticStyle:{\"font-size\":\"20px\"}}),t._v(\"Add Block \")]),a(\"div\",{staticClass:\"footer-item\",staticStyle:{\"flex-direction\":\"column\",\"font-size\":\"14px\",color:\"black\"},on:{click:function(e){return t.saveEdit()}}},[a(\"i\",{staticClass:\"fa fa-save\",staticStyle:{\"font-size\":\"20px\"}}),t._v(\"Save \")])],1),a(\"div\",[a(\"b-modal\",{attrs:{id:\"edit-Block\",\"hide-header\":\"\",\"hide-footer\":\"\"}},[a(\"div\",{staticClass:\"modal-bar\"}),a(\"div\",{staticClass:\"modal-header px-0 pb-0 pt-3 border-0\"},[a(\"h4\",[t._v(t._s(t.current_block.id?\"Edit\":\"Add\")+\" \"+t._s(t.current_block_type.name))]),a(\"h5\",{staticStyle:{color:\"#616161\",\"font-size\":\"20px\"}},[[a(\"span\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.current_block.status,expression:\"current_block.status\"}],on:{click:function(e){t.current_block.status=!1}}},[a(\"i\",{staticClass:\"fa fa-eye\"})]),a(\"span\",{directives:[{name:\"show\",rawName:\"v-show\",value:!t.current_block.status,expression:\"!current_block.status\"}],on:{click:function(e){t.current_block.status=!0}}},[a(\"i\",{staticClass:\"fa fa-eye-slash\"})])]],2)]),a(\"hr\",{staticClass:\"my-2\"}),a(\"form\",{ref:\"blockForm\",attrs:{enctype:\"multipart/form-data\"},on:{submit:function(e){return e.preventDefault(),t.blockForm()}}},[\"Logo\"==t.current_block_type.name||\"Image\"==t.current_block_type.name?a(\"div\",{staticClass:\"modal-body-form\"},[a(\"div\",{staticClass:\"edit-modal-body2 edit-image\"},[a(\"div\",{staticClass:\"edit-card my-3\"},[a(\"img\",{attrs:{src:t.current_block.image?t.current_block.image:t.preview_image}}),a(\"div\",[a(\"h4\",{staticClass:\"mb-1\"},[t._v(\"Remove Previous Image\")]),a(\"button\",{staticClass:\"btn btn-primary mt-1\",attrs:{type:\"button\"},on:{click:function(e){return t.removeImage()}}},[t._v(\"Remove\")])])]),a(\"div\",{staticClass:\"form-container\"},[a(\"div\",{staticClass:\"upload-files-container\"},[a(\"div\",{staticClass:\"drag-file-area\"},[a(\"img\",{staticStyle:{padding:\"10px\"},attrs:{src:\"/images/photo-album.png\"}}),a(\"label\",{staticClass:\"label\"},[a(\"span\",{staticClass:\"browse-files\"},[a(\"input\",{staticClass:\"default-file-input textarea\",attrs:{type:\"file\",name:\"image\"},on:{change:t.previewImg}}),a(\"span\",{staticClass:\"browse-files-text\"},[t._v(\"+ Add New Image\")])])])])])])])]):\"Heading\"==t.current_block_type.name||\"Paragraph\"==t.current_block_type.name||\"Button\"==t.current_block_type.name?a(\"div\",{staticClass:\"modal-body-form\"},[a(\"div\",{staticClass:\"edit-modal-body2\"},[a(\"div\",{staticClass:\"tools\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_block.block_style[\"background-color\"],expression:\"current_block.block_style['background-color']\"}],attrs:{type:\"color\",id:\"color\"},domProps:{value:t.current_block.block_style[\"background-color\"]},on:{input:function(e){e.target.composing||t.$set(t.current_block.block_style,\"background-color\",e.target.value)}}}),a(\"label\",{staticClass:\"color-pallete\",attrs:{for:\"color\"}},[a(\"i\",{staticClass:\"fas fa-palette\"})]),a(\"button\",{staticClass:\"mines size\",attrs:{type:\"button\"},on:{click:function(e){return t.addStyle(\"content_style\",\"font-size\",15,\"-\")}}},[a(\"i\",{staticClass:\"fas fa-minus\"})]),a(\"button\",{staticClass:\"plus size\",attrs:{type:\"button\"},on:{click:function(e){return t.addStyle(\"content_style\",\"font-size\",15,\"+\")}}},[a(\"i\",{staticClass:\"fas fa-plus\"})]),a(\"button\",{staticClass:\"bold\",class:t.current_block.content_style[\"font-weight\"]?\"clicked\":\"\",attrs:{type:\"button\"},on:{click:function(e){return t.addStyle(\"content_style\",\"font-weight\",700)}}},[a(\"i\",{staticClass:\"fas fa-bold\"})]),a(\"button\",{staticClass:\"italic\",class:t.current_block.content_style[\"font-style\"]?\"clicked\":\"\",attrs:{type:\"button\"},on:{click:function(e){return t.addStyle(\"content_style\",\"font-style\",\"italic\")}}},[a(\"i\",{staticClass:\"fas fa-italic\"})]),a(\"button\",{staticClass:\"left\",class:\"left\"==t.current_block.content_style[\"text-align\"]?\"clicked\":\"\",attrs:{type:\"button\"},on:{click:function(e){return t.addStyle(\"content_style\",\"text-align\",\"left\")}}},[a(\"i\",{staticClass:\"fas fa-align-left\"})]),a(\"button\",{staticClass:\"center\",class:\"center\"==t.current_block.content_style[\"text-align\"]?\"clicked\":\"\",attrs:{type:\"button\"},on:{click:function(e){return t.addStyle(\"content_style\",\"text-align\",\"center\")}}},[a(\"i\",{staticClass:\"fas fa-align-center\"})]),a(\"button\",{staticClass:\"right\",class:\"right\"==t.current_block.content_style[\"text-align\"]?\"clicked\":\"\",attrs:{type:\"button\"},on:{click:function(e){return t.addStyle(\"content_style\",\"text-align\",\"right\")}}},[a(\"i\",{staticClass:\"fas fa-align-right\"})]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_block.content_style[\"color\"],expression:\"current_block.content_style['color']\"}],staticClass:\"color-pallete\",attrs:{type:\"color\",id:\"bg\"},domProps:{value:t.current_block.content_style[\"color\"]},on:{input:function(e){e.target.composing||t.$set(t.current_block.content_style,\"color\",e.target.value)}}})]),\"Heading\"==t.current_block_type.name||\"Button\"==t.current_block_type.name?a(\"div\",{staticClass:\"form-control2 edit-textarea\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_block.text,expression:\"current_block.text\"}],staticClass:\"textarea\",attrs:{type:\"text\",spellcheck:\"false\",required:\"required\",name:\"text\",placeholder:\"Add Text\",id:\"text\"},domProps:{value:t.current_block.text},on:{input:function(e){e.target.composing||t.$set(t.current_block,\"text\",e.target.value)}}})]):\"Paragraph\"==t.current_block_type.name?a(\"div\",{staticClass:\"form-control2 edit-textarea mb-2\"},[a(\"textarea\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_block.text,expression:\"current_block.text\"}],attrs:{spellcheck:\"false\",required:\"required\",name:\"text\",id:\"text\",placeholder:\"Add Text\"},domProps:{value:t.current_block.text},on:{input:function(e){e.target.composing||t.$set(t.current_block,\"text\",e.target.value)}}})]):t._e(),\"Button\"!=t.current_block_type.name?a(\"hr\",{staticClass:\"my-2 mb-2\"}):t._e(),\"Button\"!=t.current_block_type.name?a(\"div\",{staticClass:\"edit-sec flex-align\"},[a(\"h5\",[t._v(\"Font Weight\")]),a(\"h5\",{staticClass:\"p-2 border\"},[t._v(\"500\")])]):t._e()])]):\"Social\"==t.current_block_type.name?a(\"div\",{staticClass:\"modal-body-form\"},[a(\"div\",{staticClass:\"edit-modal-body2\"},[a(\"div\",{staticClass:\"form-control2 edit-textarea\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_block.text,expression:\"current_block.text\"}],staticClass:\"textarea\",attrs:{type:\"url\",spellcheck:\"false\",required:\"required\",name:\"text\",placeholder:\"Facebook Url\",id:\"text\"},domProps:{value:t.current_block.text},on:{input:function(e){e.target.composing||t.$set(t.current_block,\"text\",e.target.value)}}}),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_block.text,expression:\"current_block.text\"}],staticClass:\"textarea my-1\",attrs:{type:\"url\",spellcheck:\"false\",required:\"required\",name:\"text\",placeholder:\"Instagram Url\",id:\"text\"},domProps:{value:t.current_block.text},on:{input:function(e){e.target.composing||t.$set(t.current_block,\"text\",e.target.value)}}}),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_block.text,expression:\"current_block.text\"}],staticClass:\"textarea\",attrs:{type:\"url\",spellcheck:\"false\",required:\"required\",name:\"text\",placeholder:\"Twitter Url\",id:\"text\"},domProps:{value:t.current_block.text},on:{input:function(e){e.target.composing||t.$set(t.current_block,\"text\",e.target.value)}}})])])]):\"Background\"==t.current_block_type.name?a(\"div\",{staticClass:\"modal-body-form\"},[a(\"div\",{staticClass:\"edit-modal-body2\"},[a(\"div\",{staticClass:\"flex-align g2 pt-2\"},[a(\"div\",{staticClass:\"d-flex g1\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.template.body_style[\"background-color\"],expression:\"template.body_style['background-color']\"}],attrs:{type:\"color\"},domProps:{value:t.template.body_style[\"background-color\"]},on:{input:function(e){e.target.composing||t.$set(t.template.body_style,\"background-color\",e.target.value)}}})]),a(\"h6\",[t._v(t._s(t.template.body_style[\"background-color\"]))])])])]):\"Spacer\"==t.current_block_type.name?a(\"div\",{staticClass:\"modal-body-form\"},[a(\"div\",{staticClass:\"edit-modal-body2\"},[a(\"div\",{staticClass:\"tools\"},[a(\"button\",{staticClass:\"mines size\",attrs:{type:\"button\"},on:{click:function(e){return t.addStyle(\"content_style\",\"font-size\",15,\"-\")}}},[a(\"i\",{staticClass:\"fas fa-minus\"})]),a(\"button\",{staticClass:\"plus size\",attrs:{type:\"button\"},on:{click:function(e){return t.addStyle(\"content_style\",\"font-size\",15,\"+\")}}},[a(\"i\",{staticClass:\"fas fa-plus\"})])]),a(\"hr\",{staticClass:\"my-2 mb-2\"}),a(\"div\",{staticClass:\"edit-sec flex-align\"},[a(\"h5\",[t._v(\"Space\")]),a(\"h5\",{staticClass:\"p-2 border\"},[t._v(\"5px\")])])])]):a(\"div\",{staticClass:\"modal-body-form\"},[a(\"div\",{staticClass:\"edit-modal-body2\"},[t._v(\" Coming soon! \")])]),a(\"div\",{staticClass:\"footer-modal\"},[a(\"button\",{staticClass:\"btn btn-light px-4 py-2\",attrs:{type:\"button\"},on:{click:function(e){\"Background\"==t.current_block_type.name?t.editTemplate():t.closeEditModal()}}},[t._v(\"Cancel\")]),a(\"button\",{staticClass:\"btn btn-primary px-4 py-2\",attrs:{type:\"submit\"}},[t._v(t._s(t.current_block.id?\"Update\":\"Add\"))])])])]),a(\"b-modal\",{attrs:{id:\"edit-modal\",\"hide-header\":\"\",\"hide-footer\":\"\"}},[a(\"div\",{staticClass:\"modal-bar\"}),a(\"div\",{staticClass:\"edit-modal-body2 add-blocks row py-3 mt-3\",staticStyle:{\"row-gap\":\"25px\"}},t._l(t.block_types,(function(e){return a(\"div\",{staticClass:\"col-4 text-center \",on:{click:function(a){return t.selectBlock(e)}}},[a(\"img\",{attrs:{src:e.icon,width:\"55\"}}),a(\"h6\",{staticClass:\"pt-2 px-1 text-16\"},[t._v(t._s(e.name))])])})),0),a(\"div\",{staticClass:\"footer-modal\"},[a(\"button\",{staticClass:\"btn btn-light px-4 py-2\",staticStyle:{opacity:\"0.8\"},on:{click:function(e){return t.$bvModal.hide(\"edit-modal\")}}},[t._v(\"Cancel\")]),a(\"button\",{staticClass:\"btn btn-primary px-4 py-2\"},[t._v(\"Done\")])])])],1)])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"social-icons\"},[a(\"i\",{staticClass:\"fab fa-facebook\"}),a(\"i\",{staticClass:\"fab fa-instagram\"}),a(\"i\",{staticClass:\"fab fa-twitter\"})])}],l=(a(\"4160\"),a(\"b0c0\"),a(\"d3b7\"),a(\"3ca3\"),a(\"159b\"),a(\"ddb0\"),a(\"2b3d\"),{metaInfo:{title:\"Edit\"},data:function(){return{campaign_id:null,template:{id:null,body_style:{\"background-color\":\"#fff\"}},blocks:[],current_block:{id:null},preview_image:\"/images/logo-icon.png\",current_block_type:{},is_view:!1,styles:[\"font-family\",\"font-size\",\"font-weight\",\"color\",\"font-style\",\"background-color\",\"text-align\"],background_start:!0,lastScrollPosition:0}},mounted:function(){this.template.id=this.$route.params.id,this.$route.query.is_view&&(this.is_view=!0),this.setTemplate();var t=this;document.getElementsByClassName(\"lead-main1\")[0].addEventListener(\"scroll\",(function(){t.handleScroll()}))},methods:{setTemplate:function(){var t=this,e=new Headers,a=new FormData;a.append(\"template\",this.template.id),this.$route.params.campaign_id&&(this.campaign_id=this.$route.params.campaign_id,a.append(\"campaign\",this.campaign_id)),e.append(\"Authorization\",\"Bearer \"+this.$root.auth_token),fetch(this.api_url+\"/employee/set_template/\",{method:\"POST\",body:a,headers:e}).then((function(t){return t.json()})).then((function(e){e.success?(t.campaign_id=e.campaign_id,t.template=e.template,t.$router.push(\"/edit-template/\"+t.template.id+\"/\"+t.campaign_id)):t.template=e.template,t.getBlocks()}))},getBlocks:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Bearer \"+this.$root.auth_token),fetch(this.api_url+\"/employee/template_blocks/?template=\"+this.template.id,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.blocks=e}))},selectBlock:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{id:null,image:null,content_style:{color:\"#000\"},block_style:{},status:!0,text:null};this.current_block_type=t,this.current_block=e,this.current_block.block_type=t.name,this.$bvModal.hide(\"edit-modal\"),this.$bvModal.show(\"edit-Block\")},closeEditModal:function(){this.$bvModal.hide(\"edit-Block\"),this.current_block.id||this.$bvModal.show(\"edit-modal\")},blockForm:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"POST\";if(this.$root.lock_btn)return!1;this.$root.lock_btn=!0;var a=new FormData(this.$refs[\"blockForm\"]);a.append(\"template\",this.template.id),a.append(\"content_style\",JSON.stringify(this.current_block.content_style)),a.append(\"block_style\",JSON.stringify(this.current_block.block_style)),a.append(\"block_type\",this.current_block.block_type),a.append(\"status\",this.current_block.status);var s=new Headers;s.append(\"Authorization\",\"Bearer \"+this.$root.auth_token);var o=\"\";this.current_block.id&&(e=\"PUT\",o+=this.current_block.id+\"/\"),fetch(this.api_url+\"/employee/template_blocks/\"+o,{method:e,body:a,headers:s}).then((function(t){return t.json()})).then((function(e){t.$root.lock_btn=!1,e.id>0?(t.getBlocks(),t.$bvModal.hide(\"edit-Block\")):t.showAlert(\"Something Wrong!\")}))},editTemplate:function(){var t=this,e=new Headers,a=new FormData;a.append(\"template\",this.template.id),a.append(\"body_style\",JSON.stringify(this.template.body_style)),e.append(\"Authorization\",\"Bearer \"+this.$root.auth_token),fetch(this.api_url+\"/employee/set_template/\",{method:\"PUT\",body:a,headers:e}).then((function(t){return t.json()})).then((function(e){e.success&&t.$bvModal.hide(\"bg-modal\")}))},addStyle:function(t,e,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;\"font-size\"==e?(this.current_block[t][e]||(this.current_block[t][e]=a),\"+\"==s?this.current_block[t][e]++:\"-\"==s&&this.current_block[t][e]--):this.current_block[t][e]?this.current_block[t][e]=null:this.current_block[t][e]=a},setStyle:function(t){var e=\"\";return this.styles.forEach((function(a){t[a]&&(e+=\"font-size\"==a?a+\":\"+t[a]+\"px;\":a+\":\"+t[a]+\";\")})),e},removeImage:function(){this.current_block.image=null,this.current_block.status=!1,this.blockForm()},previewImg:function(t){var e=t.target.files[0],a=e.size/1e3;if(a>850)return this.showAlert(\"maximum size of image is 850KB\",\"red\",5e3),this.current_block.image=null,t.target.value=\"\",!1;this.current_block.image=URL.createObjectURL(e)},saveEdit:function(){this.$router.push(\"/campaign/\"+this.campaign_id)},handleScroll:function(){var t=document.getElementsByClassName(\"lead-main1\")[0].scrollTop;if(t<0)return 0;this.background_start=t<this.lastScrollPosition,this.lastScrollPosition=t}}}),i=l,c=(a(\"0959\"),a(\"2877\")),n=Object(c[\"a\"])(i,s,o,!1,null,\"67f5f7ab\",null);e[\"default\"]=n.exports}}]);","extractedComments":[]}