{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-34cc55d6\"],{4463:function(t,a,e){},6249:function(t,a,e){},\"6bba\":function(t,a,e){\"use strict\";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",{staticClass:\"main-content\",class:t.background_start?\"\":\"lead-scroll\"},[e(\"MainHeader\"),e(\"div\",{},[e(\"main\",{staticClass:\"lead-main\",staticStyle:{height:\"calc(100vh - 60px)\"}},[e(\"div\",{staticClass:\"w-100 py-2\"},[e(\"div\",{staticClass:\"flex-align\"},[e(\"div\",[e(\"div\",{staticClass:\"d-flex g3 mb-2\"},[e(\"h6\",{staticStyle:{\"font-size\":\"0.75rem\"},style:\"color:\"+t.lead_statuse_color[t.lead.lead_status]},[t._v(t._s(t.lead.lead_status))])]),e(\"h3\",{staticStyle:{color:\"#2d2d2d\",\"font-weight\":\"600\"}},[t._v(t._s(t.lead.name))])]),e(\"div\",[e(\"b-dropdown\",{attrs:{size:\"lg\",variant:\"link\",\"no-caret\":\"\"},scopedSlots:t._u([{key:\"button-content\",fn:function(){return[e(\"i\",{staticClass:\"fas fa-edit\",staticStyle:{color:\"#2d2d2d\"}})]},proxy:!0}])},t._l(t.lead_statuses,(function(a){return e(\"b-dropdown-item\",{class:t.lead.lead_status==a.name?\"active\":\"\",on:{click:function(e){return t.updateLead(\"status\",a.name)}}},[t._v(t._s(a.name))])})),1)],1)]),e(\"div\",{staticClass:\"flex-align my-2\"},[e(\"div\",[e(\"h5\",{staticStyle:{color:\"#2d2d2d\",\"font-size\":\"1rem\",\"font-weight\":\"400\",\"line-height\":\"1.5rem\"}},[e(\"i\",{staticClass:\"fas fa-map-marker\"}),t._v(\" \"+t._s(t.lead.address)+\" \")])])]),e(\"div\",{staticClass:\"d-flex g1 my-2\"},[e(\"div\",{staticClass:\"attribute_snippet\"},[e(\"svg\",{attrs:{width:\"14\",height:\"13\",viewBox:\"0 0 14 13\",fill:\"none\",role:\"presentation\",xmlns:\"http://www.w3.org/2000/svg\",\"aria-label\":\"Job type\",\"aria-hidden\":\"true\"}},[e(\"path\",{attrs:{fill:\"#595959\",\"fill-rule\":\"evenodd\",d:\"M4.50226.5c-.27614 0-.5.223858-.5.5v2.1H.5c-.276142 0-.5.22386-.5.5v1.9h14V3.6c0-.27614-.2239-.5-.5-.5h-3.4977V1c0-.276142-.22389-.5-.50004-.5h-5Zm4.19962 2.6H5.30344V1.8h3.39844v1.3Z\",\"clip-rule\":\"evenodd\"}}),e(\"path\",{attrs:{fill:\"#595959\",d:\"M5.70117 6.80005H0v5.20005c0 .2761.223857.5.5.5h13c.2761 0 .5-.2239.5-.5V6.80005H8.30117v.80322c0 .27614-.22386.5-.5.5h-1.6c-.27614 0-.5-.22386-.5-.5v-.80322Z\"}})]),e(\"span\",[t._v(t._s(t.lead.category_name))])])]),e(\"div\",{staticClass:\" d-flex g2\",staticStyle:{\"flex-direction\":\"column\"}},[e(\"div\",{staticClass:\"flex-align g2\"},[e(\"div\",{staticClass:\"attribute_snippet align-items-start m-0\",staticStyle:{\"font-size\":\"14px\",width:\"fit-content\"}},[e(\"i\",{staticClass:\"fa fa-phone\",staticStyle:{height:\"20px\"}}),e(\"div\",{staticStyle:{display:\"flex\",\"flex-direction\":\"column\"}},[e(\"span\",[t._v(t._s(t.lead.phone))])])]),t._m(0)]),e(\"div\",{staticClass:\"flex-align g2 lead_btn\"},[e(\"div\",{staticClass:\"attribute_snippet align-items-start m-0\",staticStyle:{\"font-size\":\"14px\",width:\"fit-content\"}},[e(\"i\",{staticClass:\"fa fa-envelope\",staticStyle:{height:\"20px\"}}),e(\"div\",{staticStyle:{display:\"flex\",\"flex-direction\":\"column\"}},t._l(t.lead.email,(function(a){return e(\"span\",[t._v(\" \"+t._s(a))])})),0)]),t.lead.email?t._e():e(\"b-dropdown\",{ref:\"emaildropdown\",attrs:{size:\"lg\",variant:\"link\",\"no-caret\":\"\"},scopedSlots:t._u([{key:\"button-content\",fn:function(){return[e(\"div\",{staticClass:\"badge badge-dark m-0\",staticStyle:{\"font-size\":\"14px\",width:\"fit-content\",background:\"black\"}},[e(\"i\",{staticClass:\"fa fa-envelope\",staticStyle:{height:\"20px\"}}),e(\"span\",{staticClass:\"pl-2\"},[t._v(\"Add Email\")])])]},proxy:!0}],null,!1,712348089)},[e(\"b-dropdown-form\",{on:{submit:function(a){return a.preventDefault(),t.updateLead(\"email\",t.new_email)}}},[e(\"b-form-group\",{attrs:{\"label-for\":\"dropdown-form-email\"}},[e(\"div\",{staticClass:\"mt-3\"},[e(\"label\",[t._v(\"Email Address\")]),e(\"b-form-input\",{attrs:{type:\"email\",id:\"dropdown-form-email\",size:\"lg\",required:\"\",placeholder:\"email@example.com\"},model:{value:t.new_email,callback:function(a){t.new_email=a},expression:\"new_email\"}})],1)]),e(\"b-button\",{attrs:{variant:\"dark\",size:\"lg\",type:\"submit\"}},[t._v(\"Add\")])],1)],1)],1),e(\"div\",{staticClass:\"flex-align g2\"},[e(\"div\",{staticClass:\"attribute_snippet align-items-start m-0\",staticStyle:{\"font-size\":\"14px\",width:\"fit-content\"}},[e(\"i\",{staticClass:\"fa fa-globe\"}),e(\"div\",{staticStyle:{display:\"flex\",\"flex-direction\":\"column\"}},[e(\"span\",[t._v(t._s(t.lead.website))])])]),t.lead.website?e(\"div\",{staticClass:\"badge badge-dark m-0\",staticStyle:{\"font-size\":\"14px\",width:\"fit-content\",background:\"black\"},on:{click:function(a){return t.$bvModal.show(\"view_site\")}}},[e(\"i\",{staticClass:\"fa fa-globe\"}),e(\"span\",{staticClass:\"pl-2\"},[t._v(\"Visit\")])]):t._e()])])]),e(\"div\",{staticClass:\"d-flex g2 border-top pt-4 mt-4 w-100\",staticStyle:{\"flex-wrap\":\"wrap\"}},[e(\"button\",{staticClass:\"btn btn-primary\",on:{click:function(a){return t.addLog(\"Note\")}}},[e(\"i\",{staticClass:\"fa fa-plus\"}),t._v(\" Add Note\")]),e(\"button\",{staticClass:\"btn btn-primary\",on:{click:function(a){return t.addLog(\"Log Activity\")}}},[e(\"i\",{staticClass:\"fa fa-history\"}),t._v(\" Log Activity\")])]),e(\"div\",{staticClass:\"border-top d-flex g3 pt-4 mt-2 w-100 pb-3\",staticStyle:{\"flex-direction\":\"column\"}},t._l(t.lead_logs,(function(a){return e(\"div\",{staticClass:\"app-item\"},[e(\"div\",{staticClass:\"flex-align border-bottom pb-2 mb-2 g2 w-100\"},[e(\"h3\",[t._v(t._s(a.name))]),a.activity?e(\"button\",{staticClass:\"btn btn-dark\"},[t._v(t._s(a.activity))]):t._e()]),a.message?e(\"section\",{},[e(\"p\",{staticClass:\"text-14 text-light mb-0\",staticStyle:{\"line-height\":\"20px\"},domProps:{innerHTML:t._s(a.message)}})]):t._e(),e(\"div\",{staticClass:\"row m-0 w-100\"},[e(\"div\",{staticClass:\"col-6 pl-0\"},[e(\"label\",[t._v(\"Date:\")]),e(\"h4\",[t._v(t._s(t.dateFormate(\"Log Activity\"==t.lead.name?a.date:a.created_on)))])]),e(\"div\",{staticClass:\"col-6 pr-0\"},[e(\"label\",[t._v(\"Time:\")]),e(\"h4\",[t._v(t._s(\"Log Activity\"==t.lead.name?t.timeFormate(a.time):t.dateFormate(a.created_on,1,\"time\")))])])])])})),0)]),e(\"b-modal\",{staticClass:\"delete-modals\",attrs:{id:\"log-activity\",\"hide-header\":\"\",\"hide-footer\":\"\"}},[e(\"div\",{staticClass:\"modal-bar\"}),e(\"main\",{},[e(\"form\",{ref:\"leadActivityForm\",on:{submit:function(a){return a.preventDefault(),t.leadActivityForm()}}},[e(\"div\",{staticClass:\"proflie-page mt-4\",staticStyle:{height:\"100%\"}},[e(\"div\",{staticClass:\"flex-align\"},[e(\"div\",{staticStyle:{width:\"30px\"}}),e(\"h3\",[t._v(t._s(t.form_data.name))]),e(\"div\",{staticStyle:{width:\"30px\"}},[e(\"img\",{staticStyle:{opacity:\".7\"},attrs:{src:\"/images/close2.png\",width:\"14\"},on:{click:function(a){return t.$bvModal.hide(\"log-activity\")}}})])]),e(\"hr\",{staticClass:\"my-2\"}),\"Note\"==t.form_data.name?e(\"section\",{staticClass:\"leads-sec pt-3 pb-0\"},[e(\"p\",{staticClass:\"text-14 text-light\",staticStyle:{\"line-height\":\"20px\"}},[t._v(\"Add your description here.\")]),e(\"textarea\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.message,expression:\"form_data.message\"}],attrs:{placeholder:\"add your note\",name:\"message\"},domProps:{value:t.form_data.message},on:{input:function(a){a.target.composing||t.$set(t.form_data,\"message\",a.target.value)}}})]):e(\"section\",{staticClass:\"leads-sec pt-3 pb-0\"},[e(\"p\",{staticClass:\"text-14 text-light\",staticStyle:{\"line-height\":\"20px\"}},[t._v(\"Add your log activity here.\")]),e(\"button\",{staticClass:\"btn btn-outline-dark w-100 btn-lg mb-3 py-2 text-18\",class:\"Call\"==t.form_data.activity?\"active\":\"\",attrs:{type:\"button\"},on:{click:function(a){t.form_data.activity=\"Call\"}}},[t._v(\"Call\")]),e(\"button\",{staticClass:\"btn btn-outline-dark w-100 btn-lg mb-3 py-2 text-18\",class:\"Mail\"==t.form_data.activity?\"active\":\"\",attrs:{type:\"button\"},on:{click:function(a){t.form_data.activity=\"Mail\"}}},[t._v(\"Mail\")]),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.activity,expression:\"form_data.activity\"}],attrs:{type:\"hidden\",name:\"activity\"},domProps:{value:t.form_data.activity},on:{input:function(a){a.target.composing||t.$set(t.form_data,\"activity\",a.target.value)}}}),e(\"section\",{staticClass:\"pt-3 pb-0\"},[e(\"p\",{staticClass:\"text-14 text-light\",staticStyle:{\"line-height\":\"20px\"}},[t._v(\"Add your activity here.\")]),e(\"textarea\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.message,expression:\"form_data.message\"}],staticStyle:{\"min-height\":\"10px\"},attrs:{placeholder:\"add your activity\",name:\"message\"},domProps:{value:t.form_data.message},on:{input:function(a){a.target.composing||t.$set(t.form_data,\"message\",a.target.value)}}})]),e(\"hr\",{staticClass:\"my-2\"}),\"Log Activity\"==t.form_data.name?e(\"div\",{staticClass:\"row\"},[e(\"div\",{staticClass:\"col-6\"},[e(\"label\",{staticClass:\"d-block\"},[t._v(\"Date\")]),e(\"input\",{attrs:{type:\"date\",name:\"date\"}})]),e(\"div\",{staticClass:\"col-6\"},[e(\"label\",{staticClass:\"d-block\"},[t._v(\"Time\")]),e(\"input\",{attrs:{type:\"time\",name:\"time\"}})])]):t._e()]),e(\"hr\",{staticClass:\"my-3\"}),e(\"div\",{staticClass:\"m-0 g2 row justify-content-center\"},[e(\"button\",{staticClass:\"btn btn-dark  text-18 col-8 py-2\",attrs:{type:\"submit\"}},[t._v(\"Save\")])])])])])]),e(\"b-modal\",{attrs:{id:\"view_site\",\"hide-header\":\"\",\"hide-footer\":\"\"}},[e(\"img\",{staticStyle:{position:\"fixed\",top:\"-22px\",left:\"50%\",background:\"white\",width:\"44px\",padding:\"10px\",\"border-radius\":\"50%\",transform:\"translateX(-50%)\"},attrs:{src:\"/images/close.png\"},on:{click:function(a){return t.$bvModal.hide(\"view_site\")}}}),t.lead.website?e(\"div\",[e(\"iframe\",{staticStyle:{width:\"100%\",height:\"90vh\",border:\"none\",overflow:\"auto\"},attrs:{src:t.lead.website}})]):t._e()]),e(\"MainCrmFooter\",{on:{categoryIds:t.categoryIds,currentStatus:t.currentStatus}})],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",{staticClass:\"badge badge-dark m-0\",staticStyle:{\"font-size\":\"14px\",width:\"fit-content\",background:\"black\"}},[e(\"i\",{staticClass:\"fa fa-phone\"}),e(\"span\",{staticClass:\"pl-2\"},[t._v(\"Call\")])])}],o=(e(\"b0c0\"),e(\"d3b7\"),e(\"2504\")),l=e(\"767f\"),n={metaInfo:{title:\"Home\"},data:function(){return{lead:{id:null,email:[]},form_data:{name:\"\",id:null,activity:null},new_email:\"\",background_start:!0,lastScrollPosition:0,lead_logs:[]}},components:{MainHeader:o[\"a\"],MainCrmFooter:l[\"a\"]},mounted:function(){var t=this;document.getElementsByClassName(\"lead-main\")[0].addEventListener(\"scroll\",(function(){t.handleScroll()})),this.$route.params.id&&(this.lead.id=this.$route.params.id,this.getLead())},methods:{getLead:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Bearer \"+this.$root.auth_token),fetch(this.api_url+\"/employee/leads/\"+this.lead.id+\"/\",{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){t.lead=a,t.getLeadLogs()}))},updateLead:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"status\",e=arguments.length>1?arguments[1]:void 0,s=new Headers,i=new FormData(this.$refs[\"leadActivityForm\"]);if(this.$root.lock_btn)return!1;this.$root.lock_btn=!0,s.append(\"Authorization\",\"Bearer \"+this.$root.auth_token),i.append(\"type\",a),\"status\"==a&&(i.append(\"lead_status\",e),this.lead.lead_status=e),\"email\"==a&&i.append(\"email\",e),fetch(this.api_url+\"/employee/leads/\"+this.lead.id+\"/\",{method:\"PUT\",body:i,headers:s}).then((function(t){return t.json()})).then((function(a){t.$root.lock_btn=!1,t.$refs.emaildropdown.hide(!0),t.getLead()}))},getLeadLogs:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Bearer \"+this.$root.auth_token),fetch(this.api_url+\"/employee/lead_attrs/?lead=\"+this.lead.id,{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){t.lead_logs=a}))},leadActivityForm:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"POST\",e=new Headers,s=new FormData(this.$refs[\"leadActivityForm\"]);if(s.append(\"name\",this.form_data.name),s.append(\"lead\",this.lead.id),s.append(\"status\",1),this.$root.lock_btn)return!1;this.$root.lock_btn=!0,e.append(\"Authorization\",\"Bearer \"+this.$root.auth_token),fetch(this.api_url+\"/employee/lead_attrs/\",{method:a,body:s,headers:e}).then((function(t){return t.json()})).then((function(a){t.$root.lock_btn=!1,a.id>0&&(t.$bvModal.hide(\"log-activity\"),t.getLeadLogs())}))},addLog:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"Note\",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{name:\"\",id:null,activity:null};this.form_data=a,this.form_data.name=t,this.$bvModal.show(\"log-activity\")},categoryIds:function(t){},currentStatus:function(t){},handleScroll:function(){var t=document.getElementsByClassName(\"lead-main\")[0].scrollTop;if(t<0)return 0;this.background_start=t<this.lastScrollPosition,this.lastScrollPosition=t}}},r=n,c=(e(\"acf7\"),e(\"2877\")),d=Object(c[\"a\"])(r,s,i,!1,null,\"3fc8aba4\",null);a[\"default\"]=d.exports},\"767f\":function(t,a,e){\"use strict\";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",{staticClass:\"main-content\",staticStyle:{\"z-index\":\"99\"}},[e(\"div\",{staticClass:\"footer-home-direct\"},[e(\"router-link\",{attrs:{to:\"/crm-home\"}},[e(\"div\",{staticClass:\"crm-footer-child\",class:\"crm-home\"==t.$root.crm_active?\"crm-tab-active\":\"\",on:{click:function(a){t.$root.crm_active=\"crm-home\"}}},[e(\"img\",{staticClass:\"not-active-footer-icon\",attrs:{src:\"/images/home.png\",width:\"22\"}}),e(\"img\",{staticClass:\"active-footer-icon\",attrs:{src:\"/images/home2.png\",width:\"22\"}}),t._v(\" Home\")])]),e(\"router-link\",{attrs:{to:\"/leads\"}},[e(\"div\",{staticClass:\"crm-footer-child\",class:\"leads\"==t.$root.crm_active?\"crm-tab-active\":\"\",on:{click:function(a){t.$root.crm_active=\"leads\"}}},[e(\"img\",{staticClass:\"not-active-footer-icon\",attrs:{src:\"/images/leads.png\",width:\"22\"}}),e(\"img\",{staticClass:\"active-footer-icon\",attrs:{src:\"/images/leads2.png\",width:\"22\"}}),t._v(\" Leads\")])]),e(\"router-link\",{attrs:{to:\"/search\"}},[e(\"div\",{staticClass:\"crm-footer-child\",class:\"search\"==t.$root.crm_active?\"crm-tab-active\":\"\",on:{click:function(a){t.$root.crm_active=\"search\"}}},[e(\"img\",{staticClass:\"not-active-footer-icon\",attrs:{src:\"/images/search.png\",width:\"22\"}}),e(\"img\",{staticClass:\"active-footer-icon\",attrs:{src:\"/images/search3.png\",width:\"22\"}}),t._v(\" Search \")])]),\"leads\"==t.$root.crm_active||\"search\"==t.$root.crm_active?e(\"div\",{directives:[{name:\"b-modal\",rawName:\"v-b-modal.crm_filter\",modifiers:{crm_filter:!0}}],staticClass:\"crm-footer-child\",class:0!=t.category_ids.length||\"Status\"!=t.current_status?\"crm-tab-active\":\"\"},[e(\"img\",{attrs:{src:\"/images/filter.png\",width:\"22\"}}),t._v(\" Filter \")]):t._e(),e(\"div\",{directives:[{name:\"b-modal\",rawName:\"v-b-modal.crm_settings\",modifiers:{crm_settings:!0}}],staticClass:\"crm-footer-child\"},[e(\"img\",{attrs:{src:\"/images/setting.png\",width:\"22\"}}),t._v(\" Settings \")])],1),e(\"b-modal\",{attrs:{id:\"crm_filter\",\"hide-header\":\"\",\"hide-footer\":\"\"}},[e(\"div\",{staticClass:\"modal-bar\"}),e(\"ul\",{staticClass:\"m-0 email-sec px-2 side_menu\",staticStyle:{\"min-height\":\"60vh\",\"max-height\":\"90vh\",overflow:\"auto\",\"z-index\":\"9\",position:\"relative\"}},[e(\"div\",{staticClass:\"flex-align row pt-4\"},[e(\"div\",{staticStyle:{width:\"30px\"}}),e(\"h3\",[t._v(\"Filter\")]),e(\"div\",{staticStyle:{width:\"30px\"}},[e(\"img\",{staticStyle:{opacity:\".7\"},attrs:{src:\"/images/close2.png\",width:\"14\"},on:{click:function(a){return t.$bvModal.hide(\"crm_filter\")}}})])]),e(\"div\",{staticClass:\"filter-tabs\"},[e(\"div\",{staticClass:\"tab-filter\",class:\"tab1\"==t.crnt_tab?\"active\":\"\",on:{click:function(a){t.crnt_tab=\"tab1\"}}},[e(\"i\",{staticClass:\"fa fa-filter\"}),e(\"span\",{staticClass:\"ml-1\"},[t._v(\"Category \"),0!=t.category_ids.length?e(\"sup\",[t._v(t._s(t.category_ids.length))]):t._e()])]),e(\"div\",{staticClass:\"tab-filter\",class:\"tab2\"==t.crnt_tab?\"active\":\"\",on:{click:function(a){t.crnt_tab=\"tab2\"}}},[e(\"i\",{staticClass:\"fa fa-filter mr-1\"}),t._v(\" \"+t._s(t.current_status)+\" \")])]),\"tab1\"==t.crnt_tab?e(\"div\",{staticClass:\"filter-content\"},[e(\"div\",{staticClass:\"edit-modal-body2  py-3 mt-3\",staticStyle:{height:\"45vh\",overflow:\"auto\"}},[e(\"h4\",{staticClass:\"font-weight-700 mb-4\"},[t._v(\"Category:\")]),e(\"div\",{staticStyle:{\"margin-bottom\":\"12px\"}},[e(\"label\",{staticClass:\"py-1 mb-0 flex-align w-100\",on:{click:function(a){t.category_ids=[]}}},[e(\"div\",[t._v(\" All \")]),e(\"div\",{class:0==t.category_ids.length?\"btn-filter\":\"btn-non-filter\"},[e(\"i\",{staticClass:\"fa fa-check\"})])])]),e(\"div\",{staticClass:\"d-flex\",staticStyle:{\"flex-direction\":\"column\",gap:\"12px\"}},t._l(t.lead_categories,(function(a){return e(\"label\",{staticClass:\"py-1 mb-0 w-100 flex-align\"},[e(\"div\",[t._v(\" \"+t._s(a.name)+\" \"),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.category_ids,expression:\"category_ids\"},{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}],attrs:{type:\"checkbox\",name:\"category_ids\"},domProps:{value:a.id,checked:Array.isArray(t.category_ids)?t._i(t.category_ids,a.id)>-1:t.category_ids},on:{change:function(e){var s=t.category_ids,i=e.target,o=!!i.checked;if(Array.isArray(s)){var l=a.id,n=t._i(s,l);i.checked?n<0&&(t.category_ids=s.concat([l])):n>-1&&(t.category_ids=s.slice(0,n).concat(s.slice(n+1)))}else t.category_ids=o}}})]),e(\"div\",{class:t.category_ids.includes(a.id)?\"btn-filter\":\"btn-non-filter\"},[e(\"i\",{staticClass:\"fa fa-check\"})])])})),0)]),e(\"div\",{staticClass:\"footer-modal\",staticStyle:{padding:\"15px\"}},[e(\"button\",{staticClass:\"btn btn-dark  text-18 btn-block mx-4 py-2\",on:{click:function(a){t.$bvModal.hide(\"crm_filter\"),t.categoryIds()}}},[t._v(\"Apply\")])])]):t._e(),\"tab2\"==t.crnt_tab?e(\"div\",{staticClass:\"filter-content\"},[e(\"div\",{staticClass:\"edit-modal-body2  py-3 mt-3\",staticStyle:{gap:\"10px\",\"flex-wrap\":\"wrap\",height:\"45vh\",overflow:\"auto\"}},[e(\"h4\",{staticClass:\"font-weight-700 mb-4\"},[t._v(\"Status:\")]),e(\"div\",{staticClass:\"flex-align\",staticStyle:{\"margin-bottom\":\"20px\"},on:{click:function(a){t.current_status=\"Status\"}}},[e(\"div\",{},[t._v(\"All\")]),e(\"div\",{class:\"Status\"==t.current_status?\"btn-filter\":\"btn-non-filter\"},[e(\"i\",{staticClass:\"fa fa-check\"})])]),e(\"div\",{staticClass:\"d-flex\",staticStyle:{\"flex-direction\":\"column\",gap:\"20px\"}},t._l(t.lead_statuses,(function(a){return e(\"div\",{staticClass:\"flex-align\",on:{click:function(e){t.current_status=a.name}}},[e(\"div\",[t._v(t._s(a.name))]),e(\"div\",{class:t.current_status==a.name?\"btn-filter\":\"btn-non-filter\"},[e(\"i\",{staticClass:\"fa fa-check\"})])])})),0)]),e(\"div\",{staticClass:\"footer-modal\",staticStyle:{padding:\"15px\"}},[e(\"button\",{staticClass:\"btn btn-dark  text-18 btn-block mx-4 py-2\",on:{click:function(a){t.$bvModal.hide(\"crm_filter\"),t.currentStatus()}}},[t._v(\"Apply\")])])]):t._e()])]),e(\"b-modal\",{attrs:{id:\"crm_settings\",\"hide-header\":\"\",\"hide-footer\":\"\"}},[e(\"div\",{staticClass:\"modal-header\",staticStyle:{position:\"absolute\",right:\"0px\",top:\"0px\",\"z-index\":\"99\"}},[e(\"img\",{staticStyle:{opacity:\".7\"},attrs:{src:\"/images/close2.png\",width:\"14\"},on:{click:function(a){return t.$bvModal.hide(\"crm_settings\")}}})]),e(\"div\",{staticStyle:{height:\"100%\",position:\"absolute\",\"align-items\":\"center\",\"padding-left\":\"100px\",right:\"-120px\",\"z-index\":\"0\",\"padding-top\":\"100px\",\"background-image\":\"linear-gradient(#ffffff, #e9e9e9)\"}},[e(\"img\",{staticStyle:{opacity:\".6\"},attrs:{src:\"https://leadfinder.live/assets/img/iphone.png\"}})]),e(\"ul\",{staticClass:\"m-0 ml-lg-auto p-0 side_menu p-lg-0\",staticStyle:{\"min-height\":\"60vh\",\"max-height\":\"90vh\",overflow:\"auto\",\"z-index\":\"9\",position:\"relative\"}},[e(\"li\",{staticClass:\"nav-item pl-2 d-flex justify-content-between mt-1\"},[e(\"div\",{staticClass:\"d-flex align-items-center\"},[e(\"h5\",{staticClass:\" username text-20 mb-1\",staticStyle:{\"font-weight\":\"500\"}},[t._v(\"Settings\")])])]),e(\"hr\",{staticClass:\"my-4\"}),e(\"li\",{directives:[{name:\"b-modal\",rawName:\"v-b-modal.download-modal\",modifiers:{\"download-modal\":!0}}],staticClass:\"nav-item\",on:{click:function(a){return t.showLeads()}}},[e(\"a\",{staticClass:\"nav-link plan_btn\"},[e(\"i\",{staticClass:\"fa fa-download\",attrs:{\"aria-hidden\":\"true\"}}),t._v(\" Download Data\")])])])]),e(\"b-modal\",{attrs:{id:\"download-modal\",\"hide-header\":\"\",\"hide-footer\":\"\"}},[e(\"div\",{staticClass:\"modal-bar\"}),e(\"ul\",{staticClass:\"m-0 email-sec px-2 side_menu\",staticStyle:{\"min-height\":\"60vh\",\"max-height\":\"90vh\",overflow:\"auto\",\"z-index\":\"9\",position:\"relative\"}},[e(\"div\",{staticClass:\"flex-align row pt-4\"},[e(\"div\",{staticStyle:{width:\"30px\"}}),e(\"h3\",[t._v(\"Download CRM Data\")]),e(\"div\",{staticStyle:{width:\"30px\"}},[e(\"img\",{staticStyle:{opacity:\".7\"},attrs:{src:\"/images/close2.png\",width:\"14\"},on:{click:function(a){return t.$bvModal.hide(\"download-modal\")}}})])]),e(\"form\",{ref:\"dataForm\",staticClass:\"pt-4\"},[e(\"div\",{staticClass:\"row\"},[e(\"div\",{staticClass:\"col-6 pr-1 mt-3\"},[e(\"div\",{staticClass:\" flex-align\"},[e(\"h4\",{staticClass:\"mb-2 text-center w-100\"},[t._v(\"Category\")])]),e(\"div\",{staticClass:\" edit-textarea\"},[e(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.lead_category,expression:\"form_data.lead_category\"}],attrs:{name:\"lead_category\"},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a=\"_value\"in t?t._value:t.value;return a}));t.$set(t.form_data,\"lead_category\",a.target.multiple?e:e[0])},function(a){return t.showLeads()}]}},[e(\"option\",{domProps:{value:\"\"}},[t._v(\"All\")]),t._l(t.lead_categories,(function(a){return e(\"option\",{domProps:{value:a.id}},[t._v(t._s(a.name))])}))],2)])]),e(\"div\",{staticClass:\"col-6 pl-1 mt-3\"},[e(\"div\",{staticClass:\" flex-align\"},[e(\"h4\",{staticClass:\"mb-2 text-center w-100\"},[t._v(\"Status\")])]),e(\"div\",{staticClass:\" edit-textarea\"},[e(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.lead_status,expression:\"form_data.lead_status\"}],attrs:{name:\"lead_status\"},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a=\"_value\"in t?t._value:t.value;return a}));t.$set(t.form_data,\"lead_status\",a.target.multiple?e:e[0])},function(a){return t.showLeads()}]}},[e(\"option\",{domProps:{value:\"\"}},[t._v(\"All\")]),t._l(t.lead_statuses,(function(a){return e(\"option\",{domProps:{value:a.name}},[t._v(t._s(a.name))])}))],2)])]),e(\"div\",{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle.collapse-2\",modifiers:{\"collapse-2\":!0}}],staticClass:\"col-12 flex-align border-top pt-4 mt-4 pb-3\"},[e(\"h4\",{staticStyle:{color:\"#1a0dab\",\"text-decoration\":\"underline\"}},[t._v(\"Advance Settings\")])]),e(\"b-collapse\",{staticClass:\"m-0 w-100 pb-2\",attrs:{id:\"collapse-2\"}},[e(\"div\",{staticClass:\"row w-100 m-0\"},[e(\"div\",{staticClass:\"col-6 pr-1 mt-3\"},[e(\"div\",{staticClass:\" flex-align\"},[e(\"h4\",{staticClass:\" text-center w-100\"},[t._v(\"Start Date\")])]),e(\"div\",{staticClass:\" edit-textarea\"},[e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.start_date,expression:\"form_data.start_date\"}],staticClass:\"textarea mt-2\",attrs:{type:\"date\",name:\"start_date\"},domProps:{value:t.form_data.start_date},on:{change:function(a){return t.showLeads()},input:function(a){a.target.composing||t.$set(t.form_data,\"start_date\",a.target.value)}}})])]),e(\"div\",{staticClass:\"col-6 pl-1 mt-3\"},[e(\"div\",{staticClass:\" flex-align\"},[e(\"h4\",{staticClass:\" text-center w-100\"},[t._v(\"End Date\")])]),e(\"div\",{staticClass:\" edit-textarea\"},[e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.end_date,expression:\"form_data.end_date\"}],staticClass:\"textarea mt-2\",attrs:{type:\"date\",name:\"end_date\"},domProps:{value:t.form_data.end_date},on:{change:function(a){return t.showLeads()},input:function(a){a.target.composing||t.$set(t.form_data,\"end_date\",a.target.value)}}})])])])]),e(\"div\",{staticClass:\"col-12 border-top pt-3 mt-2\"},[e(\"div\",{staticClass:\" flex-align\"},[e(\"h4\",{staticClass:\"mb-2\"},[t._v(\"Tags\")])]),e(\"div\",{staticClass:\"col-12 px-0 d-flex g2 mt-1\"},t._l(t.lead_tags,(function(a){return e(\"label\",{staticClass:\"attribute_snippet \",style:t.form_data.lead_tags.includes(a.id)?\"background:#663399;color:#fff\":\"\"},[t._v(\" \"+t._s(a.name)+\" \"),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.lead_tags,expression:\"form_data.lead_tags\"},{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}],attrs:{type:\"checkbox\",name:\"lead_tags\"},domProps:{value:a.id,checked:Array.isArray(t.form_data.lead_tags)?t._i(t.form_data.lead_tags,a.id)>-1:t.form_data.lead_tags},on:{change:[function(e){var s=t.form_data.lead_tags,i=e.target,o=!!i.checked;if(Array.isArray(s)){var l=a.id,n=t._i(s,l);i.checked?n<0&&t.$set(t.form_data,\"lead_tags\",s.concat([l])):n>-1&&t.$set(t.form_data,\"lead_tags\",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.form_data,\"lead_tags\",o)},function(a){return t.showLeads()}]}})])})),0)]),e(\"div\",{staticClass:\"col-12 border-top pt-4 mt-4\"},[e(\"div\",{staticClass:\" flex-align\"},[e(\"h4\",{staticClass:\"mb-2 text-18\"},[t._v(\"Total Leads:\")]),e(\"h4\",{staticClass:\"mb-2 text-14 btn btn-dark btn-sm font-weight-600\"},[t._v(t._s(t.form_data.leads.length))])])])],1)])]),e(\"hr\",{staticClass:\"my-3\"}),e(\"div\",{staticClass:\"download-footer\"},[e(\"button\",{staticClass:\"btn btn-lg btn-primary py-2 text-19 px-3 w-100\",attrs:{type:\"button\",disabled:!t.form_data.leads.length},on:{click:function(a){return t.downloadLeads(\"PUT\")}}},[t._v(t._s(this.$root.lock_btn?\"Please Wait...\":\"Download\"))])])]),e(\"b-modal\",{attrs:{id:\"download-crm\",size:\"sm\",\"hide-header\":\"\",\"hide-footer\":\"\"}},[e(\"div\",{staticClass:\"backdrop-close\"}),e(\"div\",{staticClass:\"modal-header w-100 d-flex justify-content-end  p-4 pb-0 border-0\"},[e(\"img\",{staticStyle:{opacity:\".7\"},attrs:{src:\"/images/close.png\",width:\"14\"},on:{click:function(a){return t.$bvModal.hide(\"download-crm\")}}})]),e(\"img\",{staticStyle:{position:\"fixed\",width:\"80px\",top:\"-30px\",\"z-index\":\"9999999\",left:\"50%\",transform:\"translateX(-50%)\"},attrs:{src:\"/images/check1.png\"}}),e(\"div\",{staticClass:\"trial-modal\"},[e(\"main\",{staticClass:\"lead-main text-center\"},[e(\"h1\",{staticClass:\"text-primary w-100 mb-3 text-center\"},[t._v(\"Thank You!\")]),e(\"h3\",[t._v(\"Download Data Succesfully, Please Check Your Email.\")]),e(\"router-link\",{staticClass:\"w-100\",attrs:{to:\"/crm-home\"}},[e(\"button\",{staticClass:\"btn\",attrs:{type:\"button\"}},[t._v(\"Back to CRM\")])])],1)])])],1)},i=[],o=(e(\"d3b7\"),e(\"ade3\")),l=(e(\"2504\"),{props:[],data:function(){var t;return t={form_data:{id:null,status:\"Draft\",template:null,template_logo:\"\",start_date:null,end_date:null,leads:[],lead_categories:[],lead_tags:[],lead_category:\"\",lead_status:\"\"},lead_categories:[],lead_tags:[],leads:[]},Object(o[\"a\"])(t,\"lead_categories\",[]),Object(o[\"a\"])(t,\"leads\",[]),Object(o[\"a\"])(t,\"category_ids\",[]),Object(o[\"a\"])(t,\"current_status\",\"Status\"),Object(o[\"a\"])(t,\"crnt_tab\",\"tab1\"),t},mounted:function(){this.getCategories(),this.getTags()},methods:{getCategories:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Bearer \"+this.$root.auth_token),fetch(this.api_url+\"/employee/lead_categories/?user_wise=yes\",{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){t.lead_categories=a}))},getTags:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Bearer \"+this.$root.auth_token),fetch(this.api_url+\"/employee/lead_tags/?user_wise=yes\",{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){t.lead_tags=a}))},categoryIds:function(){this.$emit(\"categoryIds\",this.category_ids)},currentStatus:function(){this.$emit(\"currentStatus\",this.current_status)},showLeads:function(){this.downloadLeads(\"POST\")},downloadLeads:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"POST\",e=new Headers,s=new FormData(this.$refs[\"dataForm\"]);if(this.$root.lock_btn)return!1;\"PUT\"==a&&(this.$root.lock_btn=!0),e.append(\"Authorization\",\"Bearer \"+this.$root.auth_token),fetch(this.api_url+\"/employee/get_filter_leads/\",{method:a,body:s,headers:e}).then((function(t){return t.json()})).then((function(e){t.$root.lock_btn=!1,e.success&&(\"POST\"==a?t.form_data.leads=e.leads:t.$bvModal.show(\"download-crm\"))}))}}}),n=l,r=(e(\"8149\"),e(\"2877\")),c=Object(r[\"a\"])(n,s,i,!1,null,\"4774a9fe\",null);a[\"a\"]=c.exports},8149:function(t,a,e){\"use strict\";var s=e(\"6249\"),i=e.n(s);i.a},acf7:function(t,a,e){\"use strict\";var s=e(\"4463\"),i=e.n(s);i.a},ade3:function(t,a,e){\"use strict\";function s(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}e.d(a,\"a\",(function(){return s}))}}]);","extractedComments":[]}