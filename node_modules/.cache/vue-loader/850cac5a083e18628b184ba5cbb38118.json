{"remainingRequest":"C:\\Users\\HP\\OneDrive\\Desktop\\NewVuePrjct\\latest\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HP\\OneDrive\\Desktop\\NewVuePrjct\\latest\\src\\views\\app\\pages\\Addproducts.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\HP\\OneDrive\\Desktop\\NewVuePrjct\\latest\\src\\views\\app\\pages\\Addproducts.vue","mtime":1691651854889},{"path":"C:\\Users\\HP\\OneDrive\\Desktop\\NewVuePrjct\\latest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1690631124815},{"path":"C:\\Users\\HP\\OneDrive\\Desktop\\NewVuePrjct\\latest\\node_modules\\babel-loader\\lib\\index.js","mtime":1690631546510},{"path":"C:\\Users\\HP\\OneDrive\\Desktop\\NewVuePrjct\\latest\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1690631271247},{"path":"C:\\Users\\HP\\OneDrive\\Desktop\\NewVuePrjct\\latest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1690631124815},{"path":"C:\\Users\\HP\\OneDrive\\Desktop\\NewVuePrjct\\latest\\node_modules\\vue-loader\\lib\\index.js","mtime":1690631371088}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5ld1Byb2R1Y3Q6ICcnLCAvLyBOZXcgcHJvZHVjdCBuYW1lIGlucHV0CiAgICAgIHNlbGVjdGVkUHJvZHVjdFN0b2NrOiB7CiAgICAgICAgcHJvZHVjdDogbnVsbCwKICAgICAgICBxdWFudGl0eTogbnVsbCwKICAgICAgfSwKICAgICAgcHJvZHVjdFN0b2NrczogW10sCiAgICAgIHByb2R1Y3RzOiBbXSwgLy8gQXJyYXkgdG8gc3RvcmUgdGhlIGxpc3Qgb2YgcHJvZHVjdHMKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAgIGFzeW5jIGFkZFByb2R1Y3RTdG9jaygpIHsKICAgIHRyeSB7CiAgICAgIC8vIENyZWF0ZSBhIG5ldyBwcm9kdWN0IGlmIG5ld1Byb2R1Y3QgaXMgbm90IGVtcHR5CiAgICAgIGlmICh0aGlzLm5ld1Byb2R1Y3QudHJpbSgpICE9PSAnJykgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdCgnaHR0cDovLzEyNy4wLjAuMTo4MDAwL2FwaS9jcm9wc3Byb2R1Y3QvJywgeyBuYW1lOiB0aGlzLm5ld1Byb2R1Y3QgfSk7CiAgICAgICAgdGhpcy5wcm9kdWN0cy5wdXNoKHJlc3BvbnNlLmRhdGEpOwogICAgICAgIHRoaXMuc2VsZWN0ZWRQcm9kdWN0U3RvY2sucHJvZHVjdCA9IHJlc3BvbnNlLmRhdGEuaWQ7CiAgICAgIH0KICAgICAgCiAgICAgIGNvbnN0IHJlcXVlc3REYXRhID0gewogICAgICAgIHByb2R1Y3Q6IHRoaXMuc2VsZWN0ZWRQcm9kdWN0U3RvY2sucHJvZHVjdCwKICAgICAgICBxdWFudGl0eTogdGhpcy5zZWxlY3RlZFByb2R1Y3RTdG9jay5xdWFudGl0eSwKICAgICAgICBjcm9wc19pbl9mYXJtZXI6IG51bGwsIC8vIEFkanVzdCBhcyBuZWVkZWQKICAgICAgfTsKCiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdCgnaHR0cDovLzEyNy4wLjAuMTo4MDAwL2FwaS9jcm9wc3Byb2R1Y3Rfc3RvY2svJywgcmVxdWVzdERhdGEpOwogICAgICB0aGlzLnByb2R1Y3RTdG9ja3MucHVzaChyZXNwb25zZS5kYXRhKTsKICAgICAgCiAgICAgIHRoaXMubmV3UHJvZHVjdCA9ICcnOyAvLyBDbGVhciB0aGUgbmV3IHByb2R1Y3QgaW5wdXQKICAgICAgdGhpcy5zZWxlY3RlZFByb2R1Y3RTdG9jay5xdWFudGl0eSA9IG51bGw7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgcHJvZHVjdCBzdG9jazonLCBlcnJvcik7CiAgICB9CiAgfSwKICBhc3luYyBmZXRjaFByb2R1Y3RzKCkgewogICAgdHJ5IHsKICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoJ2h0dHA6Ly8xMjcuMC4wLjE6ODAwMC9hcGkvY3JvcHNwcm9kdWN0LycpOwogICAgICB0aGlzLnByb2R1Y3RzID0gcmVzcG9uc2UuZGF0YTsgLy8gUG9wdWxhdGUgdGhlIHByb2R1Y3RzIGFycmF5CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwcm9kdWN0czonLCBlcnJvcik7CiAgICB9CiAgfSwKICAgIGdldFByb2R1Y3RCeUlkKHByb2R1Y3RJZCkgewogICAgICByZXR1cm4gdGhpcy5wcm9kdWN0cy5maW5kKHByb2R1Y3QgPT4gcHJvZHVjdC5pZCA9PT0gcHJvZHVjdElkKSB8fCB7fTsKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaFByb2R1Y3RzKCk7CiAgfSwKfTsK"},{"version":3,"sources":["Addproducts.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Addproducts.vue","sourceRoot":"src/views/app/pages","sourcesContent":["<template>\r\n    <div>\r\n      <h2>Add Product Stock</h2>\r\n      <form class=\"product-stock-form\" @submit.prevent=\"addProductStock\">\r\n        <label for=\"newProduct\">New Product:</label>\r\n        <input type=\"text\" id=\"newProduct\" v-model=\"newProduct\" />\r\n        <br>\r\n        <label for=\"quantity\">Quantity:</label>\r\n        <input type=\"number\" id=\"quantity\" v-model=\"selectedProductStock.quantity\">\r\n        <br>\r\n        <button type=\"submit\">Add Product Stock</button>\r\n      </form>\r\n  \r\n      <h2>Added Product Stock</h2>\r\n      <ul class=\"product-stock-list\">\r\n        <li v-for=\"productStock in productStocks\" :key=\"productStock.id\" class=\"product-stock-item\">\r\n          <p class=\"info-label\">{{ getProductById(productStock.product).name }} - Quantity: {{ productStock.quantity }}</p>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  \r\n  export default {\r\n    data() {\r\n      return {\r\n        newProduct: '', // New product name input\r\n        selectedProductStock: {\r\n          product: null,\r\n          quantity: null,\r\n        },\r\n        productStocks: [],\r\n        products: [], // Array to store the list of products\r\n      };\r\n    },\r\n    methods: {\r\n        async addProductStock() {\r\n      try {\r\n        // Create a new product if newProduct is not empty\r\n        if (this.newProduct.trim() !== '') {\r\n          const response = await axios.post('http://127.0.0.1:8000/api/cropsproduct/', { name: this.newProduct });\r\n          this.products.push(response.data);\r\n          this.selectedProductStock.product = response.data.id;\r\n        }\r\n        \r\n        const requestData = {\r\n          product: this.selectedProductStock.product,\r\n          quantity: this.selectedProductStock.quantity,\r\n          crops_in_farmer: null, // Adjust as needed\r\n        };\r\n\r\n        const response = await axios.post('http://127.0.0.1:8000/api/cropsproduct_stock/', requestData);\r\n        this.productStocks.push(response.data);\r\n        \r\n        this.newProduct = ''; // Clear the new product input\r\n        this.selectedProductStock.quantity = null;\r\n      } catch (error) {\r\n        console.error('Error adding product stock:', error);\r\n      }\r\n    },\r\n    async fetchProducts() {\r\n      try {\r\n        const response = await axios.get('http://127.0.0.1:8000/api/cropsproduct/');\r\n        this.products = response.data; // Populate the products array\r\n      } catch (error) {\r\n        console.error('Error fetching products:', error);\r\n      }\r\n    },\r\n      getProductById(productId) {\r\n        return this.products.find(product => product.id === productId) || {};\r\n      },\r\n    },\r\n    created() {\r\n      this.fetchProducts();\r\n    },\r\n  };\r\n  </script>\r\n  "]}]}