{"remainingRequest":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/muhammed/Documents/vue_projects/leadfinder-crm/src/views/app/pages/new-letter.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/src/views/app/pages/new-letter.vue","mtime":1681816730000},{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgTWFpbkhlYWRlciBmcm9tICcvc3JjL3ZpZXdzL2FwcC9wYWdlcy9oZWFkZXInDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBtZXRhSW5mbzogew0KICAgICAgICB0aXRsZTogIkhvbWUiDQogICAgfSwNCiAgICBjb21wb25lbnRzOnsNCiAgICAgIE1haW5IZWFkZXIsDQogICAgfSwNCiAgICBkYXRhKCkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgY2FtcGFpZ246e2lkOm51bGwsIHN0YXR1czonRHJhZnQnLCB0ZW1wbGF0ZTpudWxsLCB0ZW1wbGF0ZV9sb2dvOicnLCBzdGFydF9kYXRlOm51bGwsIGVuZF9kYXRlOm51bGwsIGxlYWRzOltdLCBsZWFkX2NhdGVnb3JpZXM6W10sIGxlYWRfY2F0ZWdvcnk6bnVsbCwgbGVhZF9zdGF0dXM6Jyd9LA0KICAgICAgICB0ZW1wbGF0ZXM6W10sDQogICAgICAgIGxlYWRfY2F0ZWdvcmllczpbXSwNCiAgICAgICAgbGVhZHM6W10sDQogICAgICAgIHNob3dfZWRpdF90ZW1wbGF0ZTogZmFsc2UsDQogICAgICAgIGFpX2NvbnRlbnQ6JycsDQogICAgICAgIGdlbmVyYXRlX2NvbnRlbnQ6ZmFsc2UsDQogICAgICAgIGNybnRfdGFiOiAibmV3c19sZXR0ZXIiLA0KICAgICAgfTsNCiAgICB9LA0KICAgIG1vdW50ZWQoKSB7DQogICAgICBpZih0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpew0KICAgICAgICB0aGlzLmNhbXBhaWduLmlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkDQogICAgICAgIHRoaXMuY3JudF90YWIgPSAnZWRpdCcNCiAgICAgICAgdGhpcy5nZXRDYW1wYWlnbigpDQogICAgICB9DQogICAgICB0aGlzLmdldFRlbXBsYXRlcygpDQogICAgICB0aGlzLmdldENhdGVnb3JpZXMoKQ0KICAgICAgaWYodGhpcy4kcm9vdC5hdXRoX3Rva2VuKXsNCiAgICAgICAgdGhpcy5nZXRVc2VyKCkNCiAgICAgIH0NCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgIGdlbmVyYXRlTmV3c0xldHRlcigpIHsNCiAgICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOw0KICAgICAgICB2YXIgZm9ybWRhdGEgPSBuZXcgRm9ybURhdGEoKQ0KICAgICAgICBpZighdGhpcy5haV9jb250ZW50KXsNCiAgICAgICAgICB0aGlzLnNob3dBbGVydCgnV3JpdGUgeW91ciBjb250ZW50JykNCiAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgfQ0KICAgICAgICBmb3JtZGF0YS5hcHBlbmQoJ2FpX2NvbnRlbnQnLHRoaXMuYWlfY29udGVudCkNCiAgICAgICAgaWYodGhpcy5jYW1wYWlnbi5pZCl7DQogICAgICAgICAgZm9ybWRhdGEuYXBwZW5kKCdjYW1wYWlnbicsdGhpcy5jYW1wYWlnbi5pZCkNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmdlbmVyYXRlX2NvbnRlbnQgPSB0cnVlDQogICAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIkJlYXJlciAiK3RoaXMuJHJvb3QuYXV0aF90b2tlbik7DQogICAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL2VtcGxveWVlL3NldF9uZXdfbGV0dGVyLycsIHsNCiAgICAgICAgICAgIG1ldGhvZCA6ICdQT1NUJywNCiAgICAgICAgICAgIGJvZHkgOiBmb3JtZGF0YSwNCiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICAgIH0pDQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgICB9KQ0KICAgICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgICB0aGlzLmdlbmVyYXRlX2NvbnRlbnQgPSBmYWxzZQ0KICAgICAgICAgIGlmKGpzb25EYXRhLnN1Y2Nlc3Mpew0KICAgICAgICAgICAgdGhpcy5jYW1wYWlnbiA9IGpzb25EYXRhLmNhbXBhaWduDQogICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAvLyB0aGlzLmdvQmFjaygpDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgfSwNCiAgICAgIGdldENhbXBhaWduKCkgew0KICAgICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIkJlYXJlciAiK3RoaXMuJHJvb3QuYXV0aF90b2tlbik7DQogICAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL2VtcGxveWVlL2NhbXBhaWducy8nK3RoaXMuY2FtcGFpZ24uaWQrJy8nLCB7DQogICAgICAgICAgICBtZXRob2QgOiAnZ2V0JywNCiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICAgIH0pDQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgICB9KQ0KICAgICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgICB0aGlzLmNhbXBhaWduID0ganNvbkRhdGENCiAgICAgICAgICBpZihqc29uRGF0YS5uYW1lICYmIGpzb25EYXRhLnN1YmplY3Qpew0KICAgICAgICAgICAgdGhpcy5jcm50X3RhYiA9ICd2aWV3Jw0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0sDQogICAgICBkYXRhRm9ybShtZXRob2Q9J1BPU1QnKXsNCiAgICAgICAgaWYodGhpcy4kcm9vdC5sb2NrX2J0bil7DQogICAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICAgIH0NCiAgICAgICAgdGhpcy4kcm9vdC5sb2NrX2J0biA9IHRydWUNCiAgICAgICAgdmFyIGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKHRoaXMuJHJlZnNbJ2RhdGFGb3JtJ10pDQogICAgICAgIGlmKHRoaXMuY2FtcGFpZ24uc3RhdHVzPSdUZW1wJyl7DQogICAgICAgICAgdGhpcy5jYW1wYWlnbi5zdGF0dXM9J0RyYWZ0Jw0KICAgICAgICB9DQogICAgICAgIGZvcm1kYXRhLmFwcGVuZCgnc3RhdHVzJywgdGhpcy5jYW1wYWlnbi5zdGF0dXMpDQogICAgICAgIGZvcm1kYXRhLmFwcGVuZCgnY29udGVudF90eXBlJywgdGhpcy5jYW1wYWlnbi5jb250ZW50X3R5cGUpDQogICAgICAgIGZvcm1kYXRhLmFwcGVuZCgndXNlcicsIHRoaXMuJHJvb3QudXNlcklkKQ0KICAgICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIkJlYXJlciAiK3RoaXMuJHJvb3QuYXV0aF90b2tlbik7DQogICAgICAgIHZhciBwYXJhbXMgPSAnJw0KICAgICAgICBpZih0aGlzLmNhbXBhaWduLmlkKXsNCiAgICAgICAgICBtZXRob2QgPSAnUFVUJw0KICAgICAgICAgIHBhcmFtcys9dGhpcy5jYW1wYWlnbi5pZCsnLycNCiAgICAgICAgfQ0KICAgICAgICBmZXRjaCh0aGlzLmFwaV91cmwrJy9lbXBsb3llZS9jYW1wYWlnbnMvJytwYXJhbXMsIHsNCiAgICAgICAgICAgIG1ldGhvZCA6IG1ldGhvZCwNCiAgICAgICAgICAgIGJvZHkgOiBmb3JtZGF0YSwNCiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICAgIH0pDQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgICB9KQ0KICAgICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgICB0aGlzLiRyb290LmxvY2tfYnRuID0gZmFsc2UNCiAgICAgICAgICBpZihqc29uRGF0YS5pZD4wKXsNCiAgICAgICAgICAgIHRoaXMuY2FtcGFpZ24gPSBqc29uRGF0YQ0KICAgICAgICAgICAgaWYodGhpcy5jYW1wYWlnbi5zdGF0dXM9PSdTdGFydGluZycpew0KICAgICAgICAgICAgICB0aGlzLnN0YXJ0Q2FtcGFpZ24oKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgdGhpcy5zaG93QWxlcnQoJ1NvbWV0aGluZyBXcm9uZyEnKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0sDQogICAgICBnZXRUZW1wbGF0ZXMoKSB7DQogICAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiQmVhcmVyICIrdGhpcy4kcm9vdC5hdXRoX3Rva2VuKTsNCiAgICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvZW1wbG95ZWUvdGVtcGxhdGVzLycsIHsNCiAgICAgICAgICAgIG1ldGhvZCA6ICdnZXQnLA0KICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycywNCiAgICAgICAgfSkNCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpDQogICAgICAgIH0pDQogICAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICAgIHRoaXMudGVtcGxhdGVzID0ganNvbkRhdGENCiAgICAgICAgfSkNCiAgICAgIH0sDQogICAgICBnZXRDYXRlZ29yaWVzKCkgew0KICAgICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIkJlYXJlciAiK3RoaXMuJHJvb3QuYXV0aF90b2tlbik7DQogICAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL2VtcGxveWVlL2xlYWRfY2F0ZWdvcmllcy8/dXNlcl93aXNlPXllcycsIHsNCiAgICAgICAgICAgIG1ldGhvZCA6ICdnZXQnLA0KICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycywNCiAgICAgICAgfSkNCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpDQogICAgICAgIH0pDQogICAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICAgIHRoaXMubGVhZF9jYXRlZ29yaWVzID0ganNvbkRhdGENCiAgICAgICAgICBpZihqc29uRGF0YS5sZW5ndGg+MCl7DQogICAgICAgICAgICB0aGlzLmNhbXBhaWduLmxlYWRfY2F0ZWdvcnkgPSBqc29uRGF0YVswXS5pZA0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0sDQogICAgICBzaG93TGVhZHMoKSB7DQogICAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgICAgdmFyIGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKHRoaXMuJHJlZnNbJ2RhdGFGb3JtJ10pDQogICAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIkJlYXJlciAiK3RoaXMuJHJvb3QuYXV0aF90b2tlbik7DQogICAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL2VtcGxveWVlL2dldF9maWx0ZXJfbGVhZHMvJywgew0KICAgICAgICAgICAgbWV0aG9kIDogJ1BPU1QnLA0KICAgICAgICAgICAgYm9keSA6IGZvcm1kYXRhLA0KICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycywNCiAgICAgICAgfSkNCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpDQogICAgICAgIH0pDQogICAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICAgIGlmKGpzb25EYXRhLnN1Y2Nlc3Mpew0KICAgICAgICAgICAgdGhpcy5sZWFkcyA9IGpzb25EYXRhLmxlYWRzDQogICAgICAgICAgICB0aGlzLmNhbXBhaWduLmxlYWRzID0ganNvbkRhdGEubGVhZHMNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICB9LA0KICAgICAgc3RhcnRDYW1wYWlnbigpIHsNCiAgICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOw0KICAgICAgICB2YXIgZm9ybWRhdGEgPSBuZXcgRm9ybURhdGEoKQ0KICAgICAgICBmb3JtZGF0YS5hcHBlbmQoJ2NhbXBhaWduJywgdGhpcy5jYW1wYWlnbi5pZCkNCiAgICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiQmVhcmVyICIrdGhpcy4kcm9vdC5hdXRoX3Rva2VuKTsNCiAgICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvZW1wbG95ZWUvZ2V0X2ZpbHRlcl9sZWFkcy8nLCB7DQogICAgICAgICAgICBtZXRob2QgOiAnUFVUJywNCiAgICAgICAgICAgIGJvZHkgOiBmb3JtZGF0YSwNCiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICAgIH0pDQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgICB9KQ0KICAgICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgICBpZihqc29uRGF0YS5zdWNjZXNzKXsNCiAgICAgICAgICAgIC8vIHRoaXMuY2FtcGFpZ24gPSBqc29uRGF0YQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0sDQogICAgICBzZWxlY3RUZW1wbGF0ZSh0ZW1wbGF0ZSl7DQogICAgICAgIHRoaXMuY2FtcGFpZ24udGVtcGxhdGU9dGVtcGxhdGUuaWQ7DQogICAgICAgIHRoaXMuY2FtcGFpZ24udGVtcGxhdGVfbG9nbz10ZW1wbGF0ZS5sb2dvLnJlcGxhY2UodGhpcy5hcGlfdXJsLCcnKTsNCiAgICAgICAgdGhpcy5zaG93X2VkaXRfdGVtcGxhdGU9ZmFsc2U7DQogICAgICB9LA0KICAgICAgYmFja1BhZ2UoKXsNCiAgICAgICAgaWYodGhpcy5jcm50X3RhYj09J3ZpZXcnIHx8IHRoaXMuY3JudF90YWI9PSdlZGl0Jyl7DQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9jYW1wYWlnbnMnKQ0KICAgICAgICB9DQogICAgICB9LA0KICAgIH0sDQp9Ow0K"},{"version":3,"sources":["new-letter.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4OA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"new-letter.vue","sourceRoot":"src/views/app/pages","sourcesContent":["\r\n<template>\r\n  <div class=\"main-content\">\r\n    <MainHeader></MainHeader>\r\n    <form ref=\"dataForm\" @submit.prevent=\"dataForm()\">\r\n      <div class=\"email-sections\" v-if=\"crnt_tab=='news_letter'\">\r\n        <main class=\"lead-main\" >\r\n          <div class=\"card p-0\"> \r\n            <div class=\"card-header flex-align\">\r\n              <h4>News Letter</h4>\r\n              <button class=\"btn btn-primary\" type=\"button\" @click=\"generate_content?'':generateNewsLetter()\">Generate</button>\r\n            </div>\r\n            <div class=\"m-2\">\r\n              <input type=\"text\" name=\"body\" placeholder=\"Write your content\" class=\"textarea mt-2\" v-model=\"ai_content\"/>\r\n              <p class=\"mb-0 p-1 mt-2\" v-if=\"generate_content\">Generating...</p>\r\n              <pre class=\"mb-0 p-1 mt-2\" style=\"width: 100%;\" v-html=\"campaign.body\" v-else></pre>\r\n            </div>\r\n          </div>\r\n        </main>\r\n        <div class=\"footer-next\">\r\n\r\n          <button type=\"button\" class=\"btn btn-lg btn-primary px-3\" :disabled=\"!campaign.id\" @click=\"dataForm();crnt_tab='edit'\">Save & Next</button>\r\n        </div>\r\n      </div>\r\n      <div class=\"email-sections\" v-else v-show=\"crnt_tab=='edit'\">\r\n        <main class=\"lead-main\" >\r\n          <div class=\"card p-0\"> \r\n            <div class=\"card-header flex-align\">\r\n              <h4>Email Subject</h4>\r\n              <button class=\"btn btn-primary\" v-b-modal.add-subject>{{campaign.subject?'Edit':'Add'}}</button>\r\n            </div>\r\n            <div class=\"\">\r\n              <textarea v-show=\"false\" name=\"subject\" class=\"mt-2\" v-model=\"campaign.subject\" placeholder=\"Add Subject\"></textarea>\r\n              <p class=\"mb-0 p-3\" v-html=\"campaign.subject\"></p>\r\n            </div>\r\n            <b-modal id=\"add-subject\" hide-header hide-footer>\r\n              <div class=\"modal-bar\"></div>\r\n              <div class=\"modal-header px-0 pb-0 pt-3 border-0\">\r\n                <h4>Add Subject</h4>\r\n              </div>\r\n              <hr class=\"my-2\">\r\n              <div class=\"edit-modal-body2 text-center pb-2\" style=\"row-gap:25px;\">\r\n                <div class=\" edit-textarea\">\r\n                  <textarea spellcheck=\"false\" required=\"required\" name=\"subject\" class=\"mt-2\" v-model=\"campaign.subject\" placeholder=\"Add Subject\"></textarea>\r\n                </div>\r\n              </div>\r\n              <div class=\"footer-modal\">\r\n                <button class=\"btn btn-outline-primary px-3 py-2\" @click=\"$bvModal.hide('add-subject')\">Close</button>\r\n                <button class=\"btn btn-primary px-3 py-2\" @click=\"$bvModal.hide('add-subject')\">+ Add</button>\r\n              </div>\r\n            </b-modal>\r\n          </div>\r\n          \r\n          <div class=\"card p-0\"> \r\n            <div class=\"card-header flex-align\">\r\n              <h4>News Letter</h4>\r\n              <button class=\"btn btn-primary\" v-b-modal.add-body>{{campaign.body?'Edit':'Add'}}</button>\r\n            </div>\r\n            <div class=\"\">\r\n              <textarea v-show=\"false\" name=\"body\" class=\"mt-2\" v-model=\"campaign.body\" placeholder=\"Write here\"></textarea>\r\n              <p class=\"mb-0 p-3\" v-html=\"campaign.body\"></p>\r\n            </div>\r\n            <b-modal id=\"add-body\" hide-header hide-footer>\r\n              <div class=\"modal-bar\"></div>\r\n              <div class=\"modal-header px-0 pb-0 pt-3 border-0\">\r\n                <h4>News Letter</h4>\r\n              </div>\r\n              <hr class=\"my-2\">\r\n              <div class=\"edit-modal-body2 text-center pb-2\" style=\"row-gap:25px;\">\r\n                <div class=\" edit-textarea\">\r\n                  <textarea spellcheck=\"false\" required=\"required\" class=\"mt-2\" v-model=\"campaign.body\" placeholder=\"Write here\"></textarea>\r\n                </div>\r\n              </div>\r\n              <div class=\"footer-modal\">\r\n                <button class=\"btn btn-outline-primary px-3 py-2\" @click=\"$bvModal.hide('add-body')\">Close</button>\r\n                <button class=\"btn btn-primary px-3 py-2\" @click=\"$bvModal.hide('add-body')\">+ Add</button>\r\n              </div>\r\n            </b-modal>\r\n          </div>\r\n          \r\n          <div class=\"card p-0\"> \r\n            <div class=\"card-header flex-align\">\r\n              <h4>Email Audience</h4>\r\n              <!--<button class=\"btn btn-primary py-1\">Edit</button>-->\r\n            </div>\r\n            <div class=\"card-body\">\r\n              <div class=\"mb-2\">\r\n                <h4 class=\"text-primary text-14\">{{campaign.leads.length}} Email Contents</h4>\r\n              </div>\r\n              <div class=\"row\">\r\n                <div class=\"col-6 pr-1 mt-3\">\r\n                  <div class=\" flex-align\">\r\n                    <h4>Start Date</h4>\r\n                  </div>\r\n                  <div class=\" edit-textarea\">\r\n                    <input type=\"date\" name=\"start_date\" class=\"textarea mt-2\" v-model=\"campaign.start_date\" @change=\"showLeads()\">\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-6 pl-1 mt-3\">\r\n                  <div class=\" flex-align\">\r\n                    <h4>End Date</h4>\r\n                  </div>\r\n                  <div class=\" edit-textarea\">\r\n                    <input type=\"date\" name=\"end_date\" class=\"textarea mt-2\" v-model=\"campaign.end_date\" @change=\"showLeads()\">\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-6 pr-1 mt-3\">\r\n                  <div class=\" flex-align\">\r\n                    <h4 class=\"mb-2\">Category</h4>\r\n                  </div>\r\n                  <div class=\" edit-textarea\">\r\n                    <select v-model=\"campaign.lead_category\" name=\"lead_category\"  @change=\"showLeads()\">\r\n                      <option :value=\"null\">Select Category</option>\r\n                      <option v-for=\"lead_category in lead_categories\" :value=\"lead_category.id\">{{lead_category.name}}</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-6 pl-1 mt-3\">\r\n                  <div class=\" flex-align\">\r\n                    <h4 class=\"mb-2\">Status</h4>\r\n                  </div>\r\n                  <div class=\" edit-textarea\">\r\n                    <select name=\"lead_status\" v-model=\"campaign.lead_status\" @change=\"showLeads()\">\r\n                      <option :value=\"''\">All</option>\r\n                      <option v-for=\"lead_status in lead_statuses\" :value=\"lead_status.name\">{{lead_status.name}}</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-12 mt-3\">\r\n                  <div class=\" flex-align\">\r\n                    <h4 class=\"mb-2\">Tags</h4>\r\n                  </div>\r\n                  <div class=\"col-12 px-0 d-flex g2 mt-1\">\r\n                    <div class=\"attribute_snippet\">Tag1</div>\r\n                    <div class=\"attribute_snippet\">Tag2</div>\r\n                    <div class=\"attribute_snippet\">Tag3</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"card p-0\"> \r\n            <div class=\"card-header flex-align\">\r\n              <h4>Availbale Emails</h4>\r\n              <!--<button class=\"btn btn-primary py-1\">Edit</button>-->\r\n            </div>\r\n            <div class=\"card-body\">\r\n              <div class=\"\">\r\n                <h4 class=\"text-primary text-14\">{{campaign.leads.length}}  Emails</h4>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!--<div class=\"card p-0\"> \r\n            <div class=\"card-header flex-align\">\r\n              <h4>Template</h4>\r\n              <router-link :to=\"'/select-template/'+campaign.id\">\r\n                <button type=\"button\" class=\"btn btn-primary py-1\">{{campaign.template?'Change':'Add'}}</button>\r\n              </router-link>\r\n              <div v-show=\"false\">\r\n                <input type=\"text\" name=\"template\" v-model=\"campaign.template\"/>\r\n              </div>\r\n            </div>\r\n            <div class=\"card-body temp-box text-center\" v-if=\"campaign.template\">\r\n              <img :src=\"api_url+campaign.template_logo\" class=\"p-1\">\r\n            </div>\r\n          </div>-->\r\n        </main>\r\n        <div class=\"footer-next\">\r\n        <button type=\"button\" class=\"btn btn-lg btn-primary px-3\" :disabled=\"!campaign.id\" @click=\"dataForm();crnt_tab='edit'\">Regenerate</button>\r\n          <button type=\"button\" class=\"btn btn-lg btn-primary px-3\" :disabled=\"!campaign.body\" @click=\"dataForm();crnt_tab='view'\">Edit & Save</button>\r\n        </div>\r\n      </div>\r\n      <div class=\"email-sections\" v-show=\"crnt_tab=='view'\">\r\n        <main class=\"lead-main\" >\r\n          <!--<div class=\"card p-0\"> \r\n            <div class=\"card-header flex-align\">\r\n              <h4>Designed Email</h4>\r\n            </div>\r\n            <div class=\"card-body text-center\">\r\n              <router-link :to=\"'/edit-template/'+campaign.id+'/'+campaign.template\" v-if=\"campaign.id\">\r\n                <img :src=\"api_url+campaign.template_logo\" class=\"\">\r\n              </router-link>\r\n            </div>\r\n          </div>-->\r\n          <!--<div class=\"card2 w-100 mt-\"> \r\n            <div class=\"card-header2 w-100 flex-align\">\r\n              <h4>Subject</h4>\r\n            </div>\r\n            <div class=\"pt-3 pb-2\">\r\n              <p class=\"m-0\" v-html=\"campaign.subject\"></p>\r\n            </div>\r\n            <div>\r\n              <h5 class=\"mb-2 card p-3\">CRM Contents: <span v-for=\"lead_category in lead_categories\" v-if=\"campaign.lead_categories.includes(lead_category.id)\">{{lead_category.name}}</span></h5>\r\n            </div>\r\n          </div>-->\r\n          <div class=\"card p-0\"> \r\n            <div class=\"card-header w-100 flex-align\">\r\n              <h4>Confirmation</h4>\r\n            </div>\r\n            \r\n            <div class=\"card-body\">\r\n              <div class=\"row\">\r\n                <div class=\"col-12 mb-3\">\r\n                  <h4 class=\"mb-2\">From:</h4>\r\n                  <div class=\"attribute_snippet\" style=\"width: fit-content;\">{{$root.userInfo.aws_email}}</div>\r\n                </div>\r\n                <div class=\"col-12 mb-3\">\r\n                  <h4 class=\"mb-2\">Email Subject:</h4>\r\n                  <div class=\"attribute_snippet\" style=\"white-space: pre-wrap;\">{{campaign.subject}}</div>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <h4 class=\"mb-2\">Audeince:</h4>\r\n                  <div class=\"d-flex g2\">\r\n                    <div class=\"attribute_snippet\" style=\"width: fit-content;\" v-for=\"lead_category in lead_categories\" v-if=\"lead_category.id==campaign.lead_category\">{{lead_category.name}}</div>\r\n                    <div class=\"attribute_snippet\" style=\"width: fit-content;\">{{campaign.lead_status}}</div>\r\n                    <div class=\"attribute_snippet\" style=\"width: fit-content;\">{{campaign.leads.length}}  Emails</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </main>\r\n        <div class=\"footer-next\">\r\n          <button type=\"button\" class=\"btn btn-lg btn-light  px-3\" :disabled=\"!(campaign.status=='Draft' || campaign.status=='Temp' || campaign.status=='Failed')\" @click=\"crnt_tab='edit'\">Edit</button>\r\n          <button type=\"submit\" v-if=\"campaign.status=='Draft' || campaign.status=='Temp'\" @click=\"campaign.status='Starting'\" class=\"btn btn-lg btn-primary  px-3\">Send</button>\r\n          <button type=\"submit\" v-else-if=\"campaign.status=='Sending'\" @click=\"stopCampaign()\" class=\"btn btn-lg btn-primary  px-3\">Stop</button>\r\n          <button type=\"submit\" v-else @click=\"viewAnalytics()\" class=\"btn btn-lg btn-primary  px-3\">Analytics</button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n<script>\r\nimport MainHeader from '/src/views/app/pages/header'\r\n\r\nexport default {\r\n    metaInfo: {\r\n        title: \"Home\"\r\n    },\r\n    components:{\r\n      MainHeader,\r\n    },\r\n    data() {\r\n      return {\r\n        campaign:{id:null, status:'Draft', template:null, template_logo:'', start_date:null, end_date:null, leads:[], lead_categories:[], lead_category:null, lead_status:''},\r\n        templates:[],\r\n        lead_categories:[],\r\n        leads:[],\r\n        show_edit_template: false,\r\n        ai_content:'',\r\n        generate_content:false,\r\n        crnt_tab: \"news_letter\",\r\n      };\r\n    },\r\n    mounted() {\r\n      if(this.$route.params.id){\r\n        this.campaign.id = this.$route.params.id\r\n        this.crnt_tab = 'edit'\r\n        this.getCampaign()\r\n      }\r\n      this.getTemplates()\r\n      this.getCategories()\r\n      if(this.$root.auth_token){\r\n        this.getUser()\r\n      }\r\n    },\r\n    methods: {\r\n      generateNewsLetter() {\r\n        var headers = new Headers();\r\n        var formdata = new FormData()\r\n        if(!this.ai_content){\r\n          this.showAlert('Write your content')\r\n          return false\r\n        }\r\n        formdata.append('ai_content',this.ai_content)\r\n        if(this.campaign.id){\r\n          formdata.append('campaign',this.campaign.id)\r\n        }\r\n        this.generate_content = true\r\n        headers.append(\"Authorization\", \"Bearer \"+this.$root.auth_token);\r\n        fetch(this.api_url+'/employee/set_new_letter/', {\r\n            method : 'POST',\r\n            body : formdata,\r\n            headers: headers,\r\n        })\r\n        .then((response) => {\r\n            return response.json()\r\n        })\r\n        .then((jsonData) => {\r\n          this.generate_content = false\r\n          if(jsonData.success){\r\n            this.campaign = jsonData.campaign\r\n          }else{\r\n            // this.goBack()\r\n          }\r\n        })\r\n      },\r\n      getCampaign() {\r\n        var headers = new Headers();\r\n        headers.append(\"Authorization\", \"Bearer \"+this.$root.auth_token);\r\n        fetch(this.api_url+'/employee/campaigns/'+this.campaign.id+'/', {\r\n            method : 'get',\r\n            headers: headers,\r\n        })\r\n        .then((response) => {\r\n            return response.json()\r\n        })\r\n        .then((jsonData) => {\r\n          this.campaign = jsonData\r\n          if(jsonData.name && jsonData.subject){\r\n            this.crnt_tab = 'view'\r\n          }\r\n        })\r\n      },\r\n      dataForm(method='POST'){\r\n        if(this.$root.lock_btn){\r\n          return false\r\n        }\r\n        this.$root.lock_btn = true\r\n        var formdata = new FormData(this.$refs['dataForm'])\r\n        if(this.campaign.status='Temp'){\r\n          this.campaign.status='Draft'\r\n        }\r\n        formdata.append('status', this.campaign.status)\r\n        formdata.append('content_type', this.campaign.content_type)\r\n        formdata.append('user', this.$root.userId)\r\n        var headers = new Headers();\r\n        headers.append(\"Authorization\", \"Bearer \"+this.$root.auth_token);\r\n        var params = ''\r\n        if(this.campaign.id){\r\n          method = 'PUT'\r\n          params+=this.campaign.id+'/'\r\n        }\r\n        fetch(this.api_url+'/employee/campaigns/'+params, {\r\n            method : method,\r\n            body : formdata,\r\n            headers: headers,\r\n        })\r\n        .then((response) => {\r\n            return response.json()\r\n        })\r\n        .then((jsonData) => {\r\n          this.$root.lock_btn = false\r\n          if(jsonData.id>0){\r\n            this.campaign = jsonData\r\n            if(this.campaign.status=='Starting'){\r\n              this.startCampaign()\r\n            }\r\n          }else{\r\n            this.showAlert('Something Wrong!')\r\n          }\r\n        })\r\n      },\r\n      getTemplates() {\r\n        var headers = new Headers();\r\n        headers.append(\"Authorization\", \"Bearer \"+this.$root.auth_token);\r\n        fetch(this.api_url+'/employee/templates/', {\r\n            method : 'get',\r\n            headers: headers,\r\n        })\r\n        .then((response) => {\r\n            return response.json()\r\n        })\r\n        .then((jsonData) => {\r\n          this.templates = jsonData\r\n        })\r\n      },\r\n      getCategories() {\r\n        var headers = new Headers();\r\n        headers.append(\"Authorization\", \"Bearer \"+this.$root.auth_token);\r\n        fetch(this.api_url+'/employee/lead_categories/?user_wise=yes', {\r\n            method : 'get',\r\n            headers: headers,\r\n        })\r\n        .then((response) => {\r\n            return response.json()\r\n        })\r\n        .then((jsonData) => {\r\n          this.lead_categories = jsonData\r\n          if(jsonData.length>0){\r\n            this.campaign.lead_category = jsonData[0].id\r\n          }\r\n        })\r\n      },\r\n      showLeads() {\r\n        var headers = new Headers();\r\n        var formdata = new FormData(this.$refs['dataForm'])\r\n        headers.append(\"Authorization\", \"Bearer \"+this.$root.auth_token);\r\n        fetch(this.api_url+'/employee/get_filter_leads/', {\r\n            method : 'POST',\r\n            body : formdata,\r\n            headers: headers,\r\n        })\r\n        .then((response) => {\r\n            return response.json()\r\n        })\r\n        .then((jsonData) => {\r\n          if(jsonData.success){\r\n            this.leads = jsonData.leads\r\n            this.campaign.leads = jsonData.leads\r\n          }\r\n        })\r\n      },\r\n      startCampaign() {\r\n        var headers = new Headers();\r\n        var formdata = new FormData()\r\n        formdata.append('campaign', this.campaign.id)\r\n        headers.append(\"Authorization\", \"Bearer \"+this.$root.auth_token);\r\n        fetch(this.api_url+'/employee/get_filter_leads/', {\r\n            method : 'PUT',\r\n            body : formdata,\r\n            headers: headers,\r\n        })\r\n        .then((response) => {\r\n            return response.json()\r\n        })\r\n        .then((jsonData) => {\r\n          if(jsonData.success){\r\n            // this.campaign = jsonData\r\n          }\r\n        })\r\n      },\r\n      selectTemplate(template){\r\n        this.campaign.template=template.id;\r\n        this.campaign.template_logo=template.logo.replace(this.api_url,'');\r\n        this.show_edit_template=false;\r\n      },\r\n      backPage(){\r\n        if(this.crnt_tab=='view' || this.crnt_tab=='edit'){\r\n          this.$router.push('/campaigns')\r\n        }\r\n      },\r\n    },\r\n};\r\n</script>\r\n<style scoped>\r\n\r\n@import './style/style.css';\r\n  \r\n\r\n  .footer-next{\r\n  height:70px;\r\n  display:flex;\r\n\r\n\r\n  }\r\n</style>\r\n"]}]}