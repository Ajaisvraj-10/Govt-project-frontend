{"remainingRequest":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/muhammed/Documents/vue_projects/leadfinder-crm/src/views/app/pages/new-letters.vue?vue&type=style&index=0&id=15c06a7d&scoped=true&lang=css&","dependencies":[{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/src/views/app/pages/new-letters.vue","mtime":1681816712000},{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQoNCkBpbXBvcnQgJy4vc3R5bGUvc3R5bGUuY3NzJzsNCiAgDQoNCiAgLmZvb3Rlci1uZXh0ew0KICBoZWlnaHQ6NzBweDsNCiAgZGlzcGxheTpmbGV4Ow0KDQoNCiAgfQ0K"},{"version":3,"sources":["new-letters.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0KA;;;AAGA;AACA;AACA;;;AAGA","file":"new-letters.vue","sourceRoot":"src/views/app/pages","sourcesContent":["\r\n<template>\r\n  <div class=\"main-content\">\r\n    <MainHeader></MainHeader>\r\n    <div class=\"\">\r\n      <main class=\"lead-main\" >\r\n        <div class=\"card\" v-for=\"news_letter in news_letters\" @click=\"$router.push('/news-letter/'+news_letter.id)\">\r\n          <div class=\"flex-align\">\r\n            <div>\r\n              <h6 style=\"color:#9c2f5f;font-size:0.85rem;padding-bottom: 0.25rem;font-weight: 600;\">{{news_letter.status}}</h6>\r\n              <h3 class=\"text-20\" style=\"color:#2d2d2d;font-weight: 500;\">{{news_letter.name}}</h3>\r\n            </div>\r\n            <div>\r\n              <i class=\"fa fa-chevron-right\" style=\"color: #7b7b7b;\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"flex-align py-1\" >\r\n            <div>\r\n              <h5 style=\"color:#2d2d2d;font-size: 1rem;font-weight:400;line-height: 1.5rem;\">{{news_letter.subject}}</h5>\r\n              <h5 style=\"color:#2d2d2d;font-size: 1rem;font-weight:400;line-height: 1.5rem;\" v-for=\"category in news_letter.categories\">\r\n                <i class=\"fa fa-star\"></i>{{category}}\r\n              </h5>\r\n            </div>\r\n          </div>\r\n          <div class=\"d-flex g2\">\r\n            <div class=\"attribute_snippet\">\r\n              <i class=\"fa fa-stream\" style=\"font-size:11px;\"></i>\r\n                {{ news_letter.lead_status }}\r\n            </div>\r\n          </div>\r\n          \r\n          <h6 class=\"date mt-2\" style=\"color:#767676;font-weight:400;\">Created at {{timeAgo(news_letter.created_on)}}</h6>\r\n        </div>\r\n      </main>\r\n      <div class=\"footer-next\">\r\n        <button class=\"btn btn-lg btn-primary py-2 text-19 px-3 w-100\" :disabled=\"show_verify_email\" v-b-modal.newsletter>Create News Letter</button>\r\n        <!--<button class=\"btn btn-lg btn-primary py-2 text-19 px-3 w-100\" :disabled=\"show_verify_email\" @click=\"$router.push('/news-letter')\">Create News Letter</button>-->\r\n      </div>\r\n    </div>\r\n\r\n    <div>\r\n    <b-modal id=\"newsletter\" hide-header hide-footer>\r\n      <main class=\"text-center\">\r\n        <div class=\"proflie-page\" style=\"height: 100%;\" >\r\n          <div class=\"flex-align my-1\" >\r\n            <div style=\"width:30px;\">\r\n              <img src=\"/images/back.png\" width=\"26\" style=\"opacity:.7;\"  @click=\"crnt_tab_newsletter='newsletter'\"  \r\n              v-if=\"crnt_tab_newsletter=='newsletter-edit'\"\r\n              >\r\n            </div>\r\n            <h2 class=\"text-center text-22\">generate</h2>\r\n            <div style=\"width:30px;\">\r\n              <img src=\"/images/close2.png\" width=\"14\" style=\"opacity:.7;\" @click=\"$bvModal.hide('newsletter')\">\r\n            </div>\r\n          </div>\r\n          <section class=\"profile-sec px-4\" v-if=\"crnt_tab_newsletter=='newsletter'\">\r\n            \r\n            fggf\r\n            <button class=\"btn btn-info btn-block my-4 py-3 text-18\" @click=\"crnt_tab_newsletter='newsletter-edit'\">Generate</button>\r\n            \r\n          </section>\r\n          <section class=\"profile-sec px-4\" v-if=\"crnt_tab_newsletter=='newsletter-edit'\">\r\n            \r\n          </section>\r\n         \r\n        </div>\r\n      </main>\r\n    </b-modal>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport MainHeader from '/src/views/app/pages/header'\r\n\r\nexport default {\r\n  metaInfo: {\r\n    title: \"News Letter\"\r\n  },\r\n  data() {\r\n    return {\r\n      news_letters:[],\r\n      aws_email:'',\r\n      edit_email:false,\r\n      show_verify_email:false,\r\n      crnt_tab: 'tab1',\r\n      crnt_tab_newsletter: 'newsletter',\r\n\r\n    };\r\n  },\r\n  components:{\r\n      MainHeader,\r\n    },\r\n  mounted(){\r\n    if(this.$route.query.auth_token){\r\n      this.$root.auth_token = this.$route.query.auth_token\r\n      localStorage.setItem(\"auth_token\",this.$root.auth_token)\r\n    }\r\n    if(this.$root.auth_token){\r\n      this.getUser2()\r\n    }\r\n  },\r\n  methods: {\r\n    getNewsLetters() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.auth_token);\r\n      fetch(this.api_url+'/employee/campaigns/?content_type=News Letter', {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.news_letters = jsonData\r\n      })\r\n    },\r\n    getUser2() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.auth_token);\r\n      fetch(this.api_url+'/employee/user_data/', {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        if(jsonData.success){\r\n          this.$root.userInfo = jsonData.user\r\n          this.$root.userId = jsonData.user.id\r\n          this.getNewsLetters()\r\n          if(jsonData.user.aws_email){\r\n            this.aws_email = jsonData.user.aws_email\r\n          }else{\r\n            this.aws_email = jsonData.user.email\r\n          }\r\n          if(this.$root.userInfo.aws_verification){\r\n          }\r\n          else{\r\n            this.show_verify_email = true\r\n          }\r\n        }\r\n      })\r\n    },\r\n    verifyEmail() {\r\n      var headers = new Headers();\r\n      var formdata = new FormData()\r\n      formdata.append('aws_email',this.aws_email)\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.auth_token);\r\n      fetch(this.api_url+'/employee/verify_mail_aws/', {\r\n          method : 'POST',\r\n          body : formdata,\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        if(jsonData.success){\r\n          // this.$bvModal.hide('aws-verify-modal')\r\n          this.edit_email = false\r\n          this.show_verify_email = false\r\n        }\r\n      })\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n\r\n@import './style/style.css';\r\n  \r\n\r\n  .footer-next{\r\n  height:70px;\r\n  display:flex;\r\n\r\n\r\n  }\r\n</style>\r\n"]}]}