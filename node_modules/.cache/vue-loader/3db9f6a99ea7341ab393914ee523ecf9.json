{"remainingRequest":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/muhammed/Documents/vue_projects/leadfinder-crm/src/views/app/pages/campaigns.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/src/views/app/pages/campaigns.vue","mtime":1681800100000},{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgTWFpbkhlYWRlciBmcm9tICcvc3JjL3ZpZXdzL2FwcC9wYWdlcy9oZWFkZXInDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbWV0YUluZm86IHsNCiAgICB0aXRsZTogIkNhbXBhaWducyINCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgY2FtcGFpZ25zOltdLA0KICAgICAgYXdzX2VtYWlsOicnLA0KICAgICAgZWRpdF9lbWFpbDpmYWxzZSwNCiAgICAgIHNob3dfdmVyaWZ5X2VtYWlsOmZhbHNlLA0KICAgICAgY3JudF90YWI6ICd0YWIxJywNCiAgICB9Ow0KICB9LA0KICBjb21wb25lbnRzOnsNCiAgICAgIE1haW5IZWFkZXIsDQogICAgfSwNCiAgbW91bnRlZCgpew0KICAgIGlmKHRoaXMuJHJvdXRlLnF1ZXJ5LmF1dGhfdG9rZW4pew0KICAgICAgdGhpcy4kcm9vdC5hdXRoX3Rva2VuID0gdGhpcy4kcm91dGUucXVlcnkuYXV0aF90b2tlbg0KICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImF1dGhfdG9rZW4iLHRoaXMuJHJvb3QuYXV0aF90b2tlbikNCiAgICB9DQogICAgaWYodGhpcy4kcm9vdC5hdXRoX3Rva2VuKXsNCiAgICAgIHRoaXMuZ2V0VXNlcjIoKQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGdldENhbXBhaWducygpIHsNCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIkJlYXJlciAiK3RoaXMuJHJvb3QuYXV0aF90b2tlbik7DQogICAgICBmZXRjaCh0aGlzLmFwaV91cmwrJy9lbXBsb3llZS9jYW1wYWlnbnMvJywgew0KICAgICAgICAgIG1ldGhvZCA6ICdnZXQnLA0KICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgfSkNCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICB0aGlzLmNhbXBhaWducyA9IGpzb25EYXRhDQogICAgICB9KQ0KICAgIH0sDQogICAgZ2V0VXNlcjIoKSB7DQogICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICBoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXphdGlvbiIsICJCZWFyZXIgIit0aGlzLiRyb290LmF1dGhfdG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvZW1wbG95ZWUvdXNlcl9kYXRhLycsIHsNCiAgICAgICAgICBtZXRob2QgOiAnZ2V0JywNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgaWYoanNvbkRhdGEuc3VjY2Vzcyl7DQogICAgICAgICAgdGhpcy4kcm9vdC51c2VySW5mbyA9IGpzb25EYXRhLnVzZXINCiAgICAgICAgICB0aGlzLiRyb290LnVzZXJJZCA9IGpzb25EYXRhLnVzZXIuaWQNCiAgICAgICAgICBpZihqc29uRGF0YS51c2VyLmF3c19lbWFpbCl7DQogICAgICAgICAgICB0aGlzLmF3c19lbWFpbCA9IGpzb25EYXRhLnVzZXIuYXdzX2VtYWlsDQogICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICB0aGlzLmF3c19lbWFpbCA9IGpzb25EYXRhLnVzZXIuZW1haWwNCiAgICAgICAgICB9DQogICAgICAgICAgaWYodGhpcy4kcm9vdC51c2VySW5mby5hd3NfdmVyaWZpY2F0aW9uKXsNCiAgICAgICAgICAgIHRoaXMuZ2V0Q2FtcGFpZ25zKCkNCiAgICAgICAgICB9DQogICAgICAgICAgZWxzZXsNCiAgICAgICAgICAgIHRoaXMuc2hvd192ZXJpZnlfZW1haWwgPSB0cnVlDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgdmVyaWZ5RW1haWwoKSB7DQogICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICB2YXIgZm9ybWRhdGEgPSBuZXcgRm9ybURhdGEoKQ0KICAgICAgZm9ybWRhdGEuYXBwZW5kKCdhd3NfZW1haWwnLHRoaXMuYXdzX2VtYWlsKQ0KICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiQmVhcmVyICIrdGhpcy4kcm9vdC5hdXRoX3Rva2VuKTsNCiAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL2VtcGxveWVlL3ZlcmlmeV9tYWlsX2F3cy8nLCB7DQogICAgICAgICAgbWV0aG9kIDogJ1BPU1QnLA0KICAgICAgICAgIGJvZHkgOiBmb3JtZGF0YSwNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgaWYoanNvbkRhdGEuc3VjY2Vzcyl7DQogICAgICAgICAgLy8gdGhpcy4kYnZNb2RhbC5oaWRlKCdhd3MtdmVyaWZ5LW1vZGFsJykNCiAgICAgICAgICB0aGlzLmVkaXRfZW1haWwgPSBmYWxzZQ0KICAgICAgICAgIHRoaXMuc2hvd192ZXJpZnlfZW1haWwgPSBmYWxzZQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogIH0NCn07DQo="},{"version":3,"sources":["campaigns.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"campaigns.vue","sourceRoot":"src/views/app/pages","sourcesContent":["\r\n<template>\r\n  <div class=\"main-content\">\r\n    <MainHeader></MainHeader>\r\n    <div class=\"\">\r\n      <main class=\"lead-main\" >\r\n        <!--<div class=\"card\" v-show=\"true\">\r\n          <div class=\"flex-align\" >\r\n            <h3 style=\"color:#2d2d2d;font-weight: 500;\">Email Verification</h3>\r\n            <div class=\"btn btn-primary py-1\" v-b-modal.aws-verify-modal>\r\n              Verify\r\n            </div>\r\n          </div>\r\n          <input type=\"email\" v-model=\"aws_email\" class=\"mt-3\" v-if=\"edit_email\" style=\"color:#2d2d2d;font-size: 1rem;font-weight:400;line-height: 1.5rem;border: 1px solid #a5a5a5;padding: 8px;border-radius: 6px;\">\r\n          <div class=\"flex-align mt-3\" v-else>\r\n            <h5 class=\"\" style=\"color:#2d2d2d;font-size: 1rem;font-weight:400;line-height: 1.5rem;\" >{{aws_email}}</h5>\r\n            <h5 class=\"text-primary\" @click=\"edit_email=true\">\r\n               Change\r\n            </h5>\r\n          </div>\r\n        </div>-->\r\n        <div class=\"card text-center\" v-show=\"true\">\r\n          <h3 style=\"color:#2d2d2d;font-weight: 500;\">Email Verification</h3>\r\n          <p class=\"pt-1 mb-2 text-light\">Before you can send campaigns from an email  that uses your domain, verify that you have access to that email address.</p>\r\n          <button class=\"btn btn-primary mx-auto  px-5\" style=\"width: fit-content;\" v-b-modal.aws-verify-modal>\r\n              Verify\r\n          </button>\r\n        </div>\r\n        <div class=\"card\" v-for=\"campaign in campaigns\" @click=\"$router.push('/campaign/'+campaign.id)\">\r\n          <div class=\"flex-align\">\r\n            <div>\r\n              <h6 style=\"color:#9c2f5f;font-size:0.85rem;padding-bottom: 0.25rem;font-weight: 600;\">{{campaign.status}}</h6>\r\n              <h3 class=\"text-20\" style=\"color:#2d2d2d;font-weight: 500;\">{{campaign.name}}</h3>\r\n            </div>\r\n            <div>\r\n              <i class=\"fa fa-chevron-right\" style=\"color: #7b7b7b;\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"flex-align py-1\" >\r\n            <div>\r\n              <h5 style=\"color:#2d2d2d;font-size: 1rem;font-weight:400;line-height: 1.5rem;\">{{campaign.subject}}</h5>\r\n              <h5 style=\"color:#2d2d2d;font-size: 1rem;font-weight:400;line-height: 1.5rem;\" v-for=\"category in campaign.categories\">\r\n                <i class=\"fa fa-star\"></i>{{category}}\r\n              </h5>\r\n            </div>\r\n            <!--<div>\r\n              <i class=\"fa fa-check\"></i>\r\n            </div>-->\r\n          </div>\r\n          <div class=\"d-flex g2\">\r\n            <div class=\"attribute_snippet\">\r\n              <i class=\"fa fa-stream\" style=\"font-size:11px;\"></i>\r\n                {{ campaign.lead_status }}\r\n            </div>\r\n          </div>\r\n          <!-- <div class=\"d-flex g2\" style=\"padding-bottom: 0.25rem!important;padding-top: 0.35rem!important;\">\r\n            <div class=\"shelfItem indeedApply\">\r\n              <span class=\"iaIcon\"></span><span class=\"ialbl iaTextBlack\">Easily apply</span>\r\n            </div>\r\n            <div class=\"shelfItem indeedApply\">\r\n              <span class=\"iaIcon\"></span><span class=\"ialbl iaTextBlack\">Responsive employer</span>\r\n            </div>\r\n            \r\n          </div> -->\r\n          <h6 class=\"date mt-2\" style=\"color:#767676;font-weight:400;\">Created at {{timeAgo(campaign.created_on)}}</h6>\r\n        </div>\r\n      </main>\r\n      <div class=\"footer-next row m-0 px-0\" style=\"gap:0;justify-content:center;\">\r\n        <div class=\"py-2 col-4 px-2 text-center text-14\"><i class=\"fab fa-chrome\" style=\"font-size:20px;opacity:.8;\"></i><br>Themes</div>\r\n        <div class=\"py-2 col-4 px-2 text-center text-14\" :disabled=\"show_verify_email\" @click=\"$router.push('/select-template')\"><i class=\"fa fa-plus\" style=\"font-size:20px;opacity:.8;\"></i ><br> Create Campaign</div>\r\n        <div class=\"py-2 col-4 px-2 text-center text-14\" ><i class=\"fa fa-envelope\" style=\"font-size:20px;opacity:.8;\"></i><br> Mail Settings</div>\r\n      </div>\r\n    </div>\r\n    <div>\r\n      <b-modal id=\"aws-verify-modal\" hide-header hide-footer>\r\n        <div class=\"modal-bar\"></div>\r\n        <div v-if=\"crnt_tab=='tab1'\">\r\n          <div class=\"modal-header flex-align px-0 pb-0 pt-3 border-0\" style=\"height:38px;\">\r\n            <div >\r\n            </div>\r\n            <img src=\"/images/close3.png\" width=\"14px\" style=\"opacity:.5;\" @click=\"$bvModal.hide('aws-verify-modal')\">\r\n          </div>\r\n          <hr class=\"my-2\">\r\n          <h3 class=\"mt-4\">Verify Your Email</h3>\r\n          <div class=\"edit-modal-body2  py-3\" style=\"row-gap:25px;min-height:60vh;\">\r\n            <p class=\"pt-1 text-light mb-4\">Before you can send campaigns from an email  that uses your domain, verify that you have access to that email address.</p>\r\n            <div class=\"flex-align g1\">\r\n              <div class=\"flex-align2 g2\">\r\n                <div class=\"check-email\">\r\n                  <i class=\"fa fa-check\" style=\"color:#fff;font-size: 12px;\"></i>\r\n                </div>\r\n                <h5 class=\"text-primary\">nithul@gmail.com</h5>\r\n              </div>\r\n              <h6 class=\"text-danger\">Remove</h6>\r\n            </div>\r\n            <hr class=\"my-3\">\r\n            <div class=\"flex-align g1\">\r\n              <div class=\"flex-align2 g2\">\r\n                <div class=\"check-email\">\r\n                  <i class=\"fa fa-check\" style=\"color:#fff;font-size: 12px;\"></i>\r\n                </div>\r\n                <h5 class=\"text-primary\">nithul@gmail.com</h5>\r\n              </div>\r\n              <h6 class=\"text-danger\">Remove</h6>\r\n            </div>\r\n          </div>\r\n          <div class=\"footer-modal\">\r\n            <button class=\"btn btn-primary px-3 py-2\" @click=\"crnt_tab='tab2'\">Verify Now</button>\r\n          </div>\r\n        </div>\r\n        <div v-if=\"crnt_tab=='tab2'\">\r\n          <div class=\"modal-header flex-align px-0 pb-0 pt-3 border-0\" style=\"height:38px;\">\r\n            <div @click=\"crnt_tab='tab1'\">\r\n              <img src=\"/images/back.png\" width=\"24px\" style=\"opacity:.5;\" >\r\n            </div>\r\n            <img src=\"/images/close3.png\" width=\"14px\" style=\"opacity:.5;\" @click=\"$bvModal.hide('aws-verify-modal')\">\r\n          </div>\r\n          <hr class=\"my-2\">\r\n          <h3 class=\"mt-4\">Verify Your Email</h3>\r\n          <div class=\"edit-modal-body2  py-3\" style=\"row-gap:25px;min-height:60vh;\">\r\n            <p class=\"pt-1 text-light mb-2\">Enter your email address, and we'll send an email to verify that you have access to the domain you plan to send campaigns from.</p>\r\n            <div class=\"py-3\">\r\n              <h6 class=\"text-primary\">Email Address</h6>\r\n              <input class=\"verify-input\">\r\n            </div>\r\n          </div>\r\n          <div class=\"footer-modal\">\r\n            <button class=\"btn btn-primary px-3 py-2\" @click=\"verifyEmail()\">Send Verify</button>\r\n          </div>\r\n        </div>\r\n      </b-modal>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport MainHeader from '/src/views/app/pages/header'\r\n\r\nexport default {\r\n  metaInfo: {\r\n    title: \"Campaigns\"\r\n  },\r\n  data() {\r\n    return {\r\n      campaigns:[],\r\n      aws_email:'',\r\n      edit_email:false,\r\n      show_verify_email:false,\r\n      crnt_tab: 'tab1',\r\n    };\r\n  },\r\n  components:{\r\n      MainHeader,\r\n    },\r\n  mounted(){\r\n    if(this.$route.query.auth_token){\r\n      this.$root.auth_token = this.$route.query.auth_token\r\n      localStorage.setItem(\"auth_token\",this.$root.auth_token)\r\n    }\r\n    if(this.$root.auth_token){\r\n      this.getUser2()\r\n    }\r\n  },\r\n  methods: {\r\n    getCampaigns() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.auth_token);\r\n      fetch(this.api_url+'/employee/campaigns/', {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.campaigns = jsonData\r\n      })\r\n    },\r\n    getUser2() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.auth_token);\r\n      fetch(this.api_url+'/employee/user_data/', {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        if(jsonData.success){\r\n          this.$root.userInfo = jsonData.user\r\n          this.$root.userId = jsonData.user.id\r\n          if(jsonData.user.aws_email){\r\n            this.aws_email = jsonData.user.aws_email\r\n          }else{\r\n            this.aws_email = jsonData.user.email\r\n          }\r\n          if(this.$root.userInfo.aws_verification){\r\n            this.getCampaigns()\r\n          }\r\n          else{\r\n            this.show_verify_email = true\r\n          }\r\n        }\r\n      })\r\n    },\r\n    verifyEmail() {\r\n      var headers = new Headers();\r\n      var formdata = new FormData()\r\n      formdata.append('aws_email',this.aws_email)\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.auth_token);\r\n      fetch(this.api_url+'/employee/verify_mail_aws/', {\r\n          method : 'POST',\r\n          body : formdata,\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        if(jsonData.success){\r\n          // this.$bvModal.hide('aws-verify-modal')\r\n          this.edit_email = false\r\n          this.show_verify_email = false\r\n        }\r\n      })\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n\r\n@import './style/style.css';\r\n  \r\n\r\n  .footer-next{\r\n  height:70px;\r\n  display:flex;\r\n\r\n\r\n  }\r\n</style>\r\n"]}]}