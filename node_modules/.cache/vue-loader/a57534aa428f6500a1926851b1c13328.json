{"remainingRequest":"C:\\Users\\HP\\OneDrive\\Desktop\\NewVuePrjct\\latest\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HP\\OneDrive\\Desktop\\NewVuePrjct\\latest\\src\\views\\app\\pages\\Products.vue?vue&type=style&index=0&id=6f75f237&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\HP\\OneDrive\\Desktop\\NewVuePrjct\\latest\\src\\views\\app\\pages\\Products.vue","mtime":1691650669096},{"path":"C:\\Users\\HP\\OneDrive\\Desktop\\NewVuePrjct\\latest\\node_modules\\css-loader\\dist\\cjs.js","mtime":1690630782794},{"path":"C:\\Users\\HP\\OneDrive\\Desktop\\NewVuePrjct\\latest\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1690631371246},{"path":"C:\\Users\\HP\\OneDrive\\Desktop\\NewVuePrjct\\latest\\node_modules\\postcss-loader\\src\\index.js","mtime":1690631539045},{"path":"C:\\Users\\HP\\OneDrive\\Desktop\\NewVuePrjct\\latest\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1690631271247},{"path":"C:\\Users\\HP\\OneDrive\\Desktop\\NewVuePrjct\\latest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1690631124815},{"path":"C:\\Users\\HP\\OneDrive\\Desktop\\NewVuePrjct\\latest\\node_modules\\vue-loader\\lib\\index.js","mtime":1690631371088}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmFkZC1wcm9kdWN0IHsKICBtYXgtd2lkdGg6IDYwMHB4OwogIG1hcmdpbjogMCBhdXRvOwogIHBhZGRpbmc6IDIwcHg7Cn0KCi5wcm9kdWN0LWZvcm0gewogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICBtYXJnaW4tYm90dG9tOiAyMHB4Owp9CgoubGFiZWwgewogIG1hcmdpbi1ib3R0b206IDVweDsKfQoKaW5wdXRbdHlwZT0idGV4dCJdLCBzZWxlY3QgewogIHBhZGRpbmc6IDhweDsKICBib3JkZXI6IDFweCBzb2xpZCAjY2NjOwogIGJvcmRlci1yYWRpdXM6IDRweDsKICBtYXJnaW4tYm90dG9tOiAxMHB4Owp9CgpidXR0b25bdHlwZT0ic3VibWl0Il0gewogIHBhZGRpbmc6IDhweCAxMnB4OwogIGJhY2tncm91bmQtY29sb3I6ICMwMDdiZmY7CiAgY29sb3I6IHdoaXRlOwogIGJvcmRlcjogbm9uZTsKICBib3JkZXItcmFkaXVzOiA0cHg7CiAgY3Vyc29yOiBwb2ludGVyOwp9CgpidXR0b25bdHlwZT0ic3VibWl0Il06aG92ZXIgewogIGJhY2tncm91bmQtY29sb3I6ICMwMDU2YjM7Cn0KCi5zdWNjZXNzLW1lc3NhZ2UgewogIGNvbG9yOiBncmVlbjsKICBmb250LXdlaWdodDogYm9sZDsKfQoKLmVycm9yLW1lc3NhZ2UgewogIGNvbG9yOiByZWQ7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KCi5wcm9kdWN0LWxpc3QgewogIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTsKICBwYWRkaW5nOiAwOwp9CgoucHJvZHVjdC1pdGVtIHsKICBwYWRkaW5nOiA1cHg7CiAgYm9yZGVyOiAxcHggc29saWQgI2NjYzsKICBib3JkZXItcmFkaXVzOiA0cHg7CiAgbWFyZ2luLWJvdHRvbTogNXB4Owp9Cg=="},{"version":3,"sources":["Products.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0IA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Products.vue","sourceRoot":"src/views/app/pages","sourcesContent":["<template>\r\n  <div class=\"add-product\">\r\n    <h1>Add Product</h1>\r\n    <form @submit.prevent=\"addProduct\" class=\"product-form\">\r\n      <label for=\"name\" class=\"label\">Product Name:</label>\r\n      <input type=\"text\" id=\"name\" v-model=\"productName\" />\r\n\r\n      <label for=\"category\" class=\"label\">Category:</label>\r\n      <select id=\"category\" v-model=\"selectedCategory\">\r\n        <option v-for=\"category in categories\" :key=\"category.id\" :value=\"category.id\">{{ category.name }}</option>\r\n      </select>\r\n\r\n      <label for=\"product_type\" class=\"label\">Product Type:</label>\r\n      <select id=\"product_type\" v-model=\"selectedType\">\r\n        <option v-for=\"product_type in productTypes\" :key=\"product_type.id\" :value=\"product_type.id\">{{ product_type.name }}</option>\r\n      </select>\r\n\r\n      <label for=\"price\" class=\"label\">Price:</label>\r\n      <input type=\"text\" id=\"price\" v-model=\"productPrice\" @input=\"validatePriceInput\" />\r\n\r\n      <button type=\"submit\">Add Product</button>\r\n    </form>\r\n    <p v-if=\"successMessage\" class=\"success-message\">{{ successMessage }}</p>\r\n    <p v-if=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</p>\r\n    <hr />\r\n\r\n    <h2>Added Products</h2>\r\n    <ul class=\"product-list\">\r\n      <li v-for=\"product in products\" :key=\"product.id\" class=\"product-item\">\r\n        {{ product.name }} - {{ getCategoryName(product.category) }} - {{ getProductTypeName(product.product_type) }} - â‚¹{{ product.price }}\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n  \r\n  <script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        productName: \"\",\r\n        selectedCategory: null,\r\n        selectedType: null,\r\n        productPrice: null,\r\n        categories: [],\r\n        productTypes: [],\r\n        successMessage: \"\",\r\n        errorMessage: \"\",\r\n        products: []\r\n      };\r\n    },\r\n    created() {\r\n      this.fetchCategories();\r\n      this.fetchProductTypes();\r\n      this.fetchProducts();\r\n    },\r\n    methods: {\r\n        validatePriceInput() {\r\n    this.productPrice = this.productPrice.replace(/[^0-9.]/g, \"\");\r\n\r\n    const parts = this.productPrice.split(\".\");\r\n    if (parts.length > 2) {\r\n      this.productPrice = parts.slice(0, -1).join(\".\") + parts.slice(-1);\r\n    }\r\n\r\n  },\r\n      async fetchCategories() {\r\n        try {\r\n          const response = await fetch(\"http://127.0.0.1:8000/api/cropscategory/\");\r\n          if (response.ok) {\r\n            this.categories = await response.json();\r\n          }\r\n        } catch (error) {\r\n          console.error(\"Error fetching categories:\", error);\r\n        }\r\n      },\r\n      async fetchProductTypes() {\r\n        try {\r\n          const response = await fetch(\"http://127.0.0.1:8000/api/cropsproduct_type/\");\r\n          if (response.ok) {\r\n            this.productTypes = await response.json();\r\n          }\r\n        } catch (error) {\r\n          console.error(\"Error fetching product types:\", error);\r\n        }\r\n      },\r\n      async fetchProducts() {\r\n        try {\r\n          const response = await fetch(\"http://127.0.0.1:8000/api/cropsproduct/\");\r\n          if (response.ok) {\r\n            this.products = await response.json();\r\n          }\r\n        } catch (error) {\r\n          console.error(\"Error fetching products:\", error);\r\n        }\r\n      },\r\n      async addProduct() {\r\n  try {\r\n    const response = await fetch(\"http://127.0.0.1:8000/api/cropsproduct/\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\" \r\n      },\r\n      body: JSON.stringify({\r\n        name: this.productName,\r\n        category: this.selectedCategory,\r\n        product_type: this.selectedType,\r\n        price: this.productPrice\r\n      })\r\n    });\r\n\r\n    if (response.ok) {\r\n      this.successMessage = \"Product added successfully!\";\r\n      this.productName = \"\";\r\n      this.selectedCategory = null;\r\n      this.selectedType = null;\r\n      this.productPrice = \"\"; \r\n      this.fetchProducts();\r\n    } else {\r\n      this.errorMessage = \"Failed to add product. Please try again.\";\r\n    }\r\n  } catch (error) {\r\n    this.errorMessage = \"An error occurred. Please try again later.\";\r\n  }\r\n},\r\n\r\n      getCategoryName(categoryId) {\r\n        const category = this.categories.find(category => category.id === categoryId);\r\n        return category ? category.name : \"\";\r\n      },\r\n      getProductTypeName(typeId) {\r\n        const product_type = this.productTypes.find(product_type => product_type.id === typeId);\r\n        return product_type ? product_type.name : \"\";\r\n      }\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .add-product {\r\n    max-width: 600px;\r\n    margin: 0 auto;\r\n    padding: 20px;\r\n  }\r\n  \r\n  .product-form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-bottom: 20px;\r\n  }\r\n  \r\n  .label {\r\n    margin-bottom: 5px;\r\n  }\r\n  \r\n  input[type=\"text\"], select {\r\n    padding: 8px;\r\n    border: 1px solid #ccc;\r\n    border-radius: 4px;\r\n    margin-bottom: 10px;\r\n  }\r\n  \r\n  button[type=\"submit\"] {\r\n    padding: 8px 12px;\r\n    background-color: #007bff;\r\n    color: white;\r\n    border: none;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n  }\r\n  \r\n  button[type=\"submit\"]:hover {\r\n    background-color: #0056b3;\r\n  }\r\n  \r\n  .success-message {\r\n    color: green;\r\n    font-weight: bold;\r\n  }\r\n  \r\n  .error-message {\r\n    color: red;\r\n    font-weight: bold;\r\n  }\r\n  \r\n  .product-list {\r\n    list-style-type: none;\r\n    padding: 0;\r\n  }\r\n  \r\n  .product-item {\r\n    padding: 5px;\r\n    border: 1px solid #ccc;\r\n    border-radius: 4px;\r\n    margin-bottom: 5px;\r\n  }\r\n  </style>\r\n\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  "]}]}