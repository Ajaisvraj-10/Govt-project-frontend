{"remainingRequest":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/muhammed/Documents/vue_projects/leadfinder-crm/src/views/app/pages/new-letters.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/src/views/app/pages/new-letters.vue","mtime":1681816712000},{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/leadfinder-crm/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgTWFpbkhlYWRlciBmcm9tICcvc3JjL3ZpZXdzL2FwcC9wYWdlcy9oZWFkZXInDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbWV0YUluZm86IHsNCiAgICB0aXRsZTogIk5ld3MgTGV0dGVyIg0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBuZXdzX2xldHRlcnM6W10sDQogICAgICBhd3NfZW1haWw6JycsDQogICAgICBlZGl0X2VtYWlsOmZhbHNlLA0KICAgICAgc2hvd192ZXJpZnlfZW1haWw6ZmFsc2UsDQogICAgICBjcm50X3RhYjogJ3RhYjEnLA0KICAgICAgY3JudF90YWJfbmV3c2xldHRlcjogJ25ld3NsZXR0ZXInLA0KDQogICAgfTsNCiAgfSwNCiAgY29tcG9uZW50czp7DQogICAgICBNYWluSGVhZGVyLA0KICAgIH0sDQogIG1vdW50ZWQoKXsNCiAgICBpZih0aGlzLiRyb3V0ZS5xdWVyeS5hdXRoX3Rva2VuKXsNCiAgICAgIHRoaXMuJHJvb3QuYXV0aF90b2tlbiA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmF1dGhfdG9rZW4NCiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJhdXRoX3Rva2VuIix0aGlzLiRyb290LmF1dGhfdG9rZW4pDQogICAgfQ0KICAgIGlmKHRoaXMuJHJvb3QuYXV0aF90b2tlbil7DQogICAgICB0aGlzLmdldFVzZXIyKCkNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBnZXROZXdzTGV0dGVycygpIHsNCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIkJlYXJlciAiK3RoaXMuJHJvb3QuYXV0aF90b2tlbik7DQogICAgICBmZXRjaCh0aGlzLmFwaV91cmwrJy9lbXBsb3llZS9jYW1wYWlnbnMvP2NvbnRlbnRfdHlwZT1OZXdzIExldHRlcicsIHsNCiAgICAgICAgICBtZXRob2QgOiAnZ2V0JywNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgdGhpcy5uZXdzX2xldHRlcnMgPSBqc29uRGF0YQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGdldFVzZXIyKCkgew0KICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOw0KICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiQmVhcmVyICIrdGhpcy4kcm9vdC5hdXRoX3Rva2VuKTsNCiAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL2VtcGxveWVlL3VzZXJfZGF0YS8nLCB7DQogICAgICAgICAgbWV0aG9kIDogJ2dldCcsDQogICAgICAgICAgaGVhZGVyczogaGVhZGVycywNCiAgICAgIH0pDQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpDQogICAgICB9KQ0KICAgICAgLnRoZW4oKGpzb25EYXRhKSA9PiB7DQogICAgICAgIGlmKGpzb25EYXRhLnN1Y2Nlc3Mpew0KICAgICAgICAgIHRoaXMuJHJvb3QudXNlckluZm8gPSBqc29uRGF0YS51c2VyDQogICAgICAgICAgdGhpcy4kcm9vdC51c2VySWQgPSBqc29uRGF0YS51c2VyLmlkDQogICAgICAgICAgdGhpcy5nZXROZXdzTGV0dGVycygpDQogICAgICAgICAgaWYoanNvbkRhdGEudXNlci5hd3NfZW1haWwpew0KICAgICAgICAgICAgdGhpcy5hd3NfZW1haWwgPSBqc29uRGF0YS51c2VyLmF3c19lbWFpbA0KICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgdGhpcy5hd3NfZW1haWwgPSBqc29uRGF0YS51c2VyLmVtYWlsDQogICAgICAgICAgfQ0KICAgICAgICAgIGlmKHRoaXMuJHJvb3QudXNlckluZm8uYXdzX3ZlcmlmaWNhdGlvbil7DQogICAgICAgICAgfQ0KICAgICAgICAgIGVsc2V7DQogICAgICAgICAgICB0aGlzLnNob3dfdmVyaWZ5X2VtYWlsID0gdHJ1ZQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIHZlcmlmeUVtYWlsKCkgew0KICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOw0KICAgICAgdmFyIGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKCkNCiAgICAgIGZvcm1kYXRhLmFwcGVuZCgnYXdzX2VtYWlsJyx0aGlzLmF3c19lbWFpbCkNCiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIkJlYXJlciAiK3RoaXMuJHJvb3QuYXV0aF90b2tlbik7DQogICAgICBmZXRjaCh0aGlzLmFwaV91cmwrJy9lbXBsb3llZS92ZXJpZnlfbWFpbF9hd3MvJywgew0KICAgICAgICAgIG1ldGhvZCA6ICdQT1NUJywNCiAgICAgICAgICBib2R5IDogZm9ybWRhdGEsDQogICAgICAgICAgaGVhZGVyczogaGVhZGVycywNCiAgICAgIH0pDQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpDQogICAgICB9KQ0KICAgICAgLnRoZW4oKGpzb25EYXRhKSA9PiB7DQogICAgICAgIGlmKGpzb25EYXRhLnN1Y2Nlc3Mpew0KICAgICAgICAgIC8vIHRoaXMuJGJ2TW9kYWwuaGlkZSgnYXdzLXZlcmlmeS1tb2RhbCcpDQogICAgICAgICAgdGhpcy5lZGl0X2VtYWlsID0gZmFsc2UNCiAgICAgICAgICB0aGlzLnNob3dfdmVyaWZ5X2VtYWlsID0gZmFsc2UNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICB9DQp9Ow0K"},{"version":3,"sources":["new-letters.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"new-letters.vue","sourceRoot":"src/views/app/pages","sourcesContent":["\r\n<template>\r\n  <div class=\"main-content\">\r\n    <MainHeader></MainHeader>\r\n    <div class=\"\">\r\n      <main class=\"lead-main\" >\r\n        <div class=\"card\" v-for=\"news_letter in news_letters\" @click=\"$router.push('/news-letter/'+news_letter.id)\">\r\n          <div class=\"flex-align\">\r\n            <div>\r\n              <h6 style=\"color:#9c2f5f;font-size:0.85rem;padding-bottom: 0.25rem;font-weight: 600;\">{{news_letter.status}}</h6>\r\n              <h3 class=\"text-20\" style=\"color:#2d2d2d;font-weight: 500;\">{{news_letter.name}}</h3>\r\n            </div>\r\n            <div>\r\n              <i class=\"fa fa-chevron-right\" style=\"color: #7b7b7b;\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"flex-align py-1\" >\r\n            <div>\r\n              <h5 style=\"color:#2d2d2d;font-size: 1rem;font-weight:400;line-height: 1.5rem;\">{{news_letter.subject}}</h5>\r\n              <h5 style=\"color:#2d2d2d;font-size: 1rem;font-weight:400;line-height: 1.5rem;\" v-for=\"category in news_letter.categories\">\r\n                <i class=\"fa fa-star\"></i>{{category}}\r\n              </h5>\r\n            </div>\r\n          </div>\r\n          <div class=\"d-flex g2\">\r\n            <div class=\"attribute_snippet\">\r\n              <i class=\"fa fa-stream\" style=\"font-size:11px;\"></i>\r\n                {{ news_letter.lead_status }}\r\n            </div>\r\n          </div>\r\n          \r\n          <h6 class=\"date mt-2\" style=\"color:#767676;font-weight:400;\">Created at {{timeAgo(news_letter.created_on)}}</h6>\r\n        </div>\r\n      </main>\r\n      <div class=\"footer-next\">\r\n        <button class=\"btn btn-lg btn-primary py-2 text-19 px-3 w-100\" :disabled=\"show_verify_email\" v-b-modal.newsletter>Create News Letter</button>\r\n        <!--<button class=\"btn btn-lg btn-primary py-2 text-19 px-3 w-100\" :disabled=\"show_verify_email\" @click=\"$router.push('/news-letter')\">Create News Letter</button>-->\r\n      </div>\r\n    </div>\r\n\r\n    <div>\r\n    <b-modal id=\"newsletter\" hide-header hide-footer>\r\n      <main class=\"text-center\">\r\n        <div class=\"proflie-page\" style=\"height: 100%;\" >\r\n          <div class=\"flex-align my-1\" >\r\n            <div style=\"width:30px;\">\r\n              <img src=\"/images/back.png\" width=\"26\" style=\"opacity:.7;\"  @click=\"crnt_tab_newsletter='newsletter'\"  \r\n              v-if=\"crnt_tab_newsletter=='newsletter-edit'\"\r\n              >\r\n            </div>\r\n            <h2 class=\"text-center text-22\">generate</h2>\r\n            <div style=\"width:30px;\">\r\n              <img src=\"/images/close2.png\" width=\"14\" style=\"opacity:.7;\" @click=\"$bvModal.hide('newsletter')\">\r\n            </div>\r\n          </div>\r\n          <section class=\"profile-sec px-4\" v-if=\"crnt_tab_newsletter=='newsletter'\">\r\n            \r\n            fggf\r\n            <button class=\"btn btn-info btn-block my-4 py-3 text-18\" @click=\"crnt_tab_newsletter='newsletter-edit'\">Generate</button>\r\n            \r\n          </section>\r\n          <section class=\"profile-sec px-4\" v-if=\"crnt_tab_newsletter=='newsletter-edit'\">\r\n            \r\n          </section>\r\n         \r\n        </div>\r\n      </main>\r\n    </b-modal>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport MainHeader from '/src/views/app/pages/header'\r\n\r\nexport default {\r\n  metaInfo: {\r\n    title: \"News Letter\"\r\n  },\r\n  data() {\r\n    return {\r\n      news_letters:[],\r\n      aws_email:'',\r\n      edit_email:false,\r\n      show_verify_email:false,\r\n      crnt_tab: 'tab1',\r\n      crnt_tab_newsletter: 'newsletter',\r\n\r\n    };\r\n  },\r\n  components:{\r\n      MainHeader,\r\n    },\r\n  mounted(){\r\n    if(this.$route.query.auth_token){\r\n      this.$root.auth_token = this.$route.query.auth_token\r\n      localStorage.setItem(\"auth_token\",this.$root.auth_token)\r\n    }\r\n    if(this.$root.auth_token){\r\n      this.getUser2()\r\n    }\r\n  },\r\n  methods: {\r\n    getNewsLetters() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.auth_token);\r\n      fetch(this.api_url+'/employee/campaigns/?content_type=News Letter', {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.news_letters = jsonData\r\n      })\r\n    },\r\n    getUser2() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.auth_token);\r\n      fetch(this.api_url+'/employee/user_data/', {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        if(jsonData.success){\r\n          this.$root.userInfo = jsonData.user\r\n          this.$root.userId = jsonData.user.id\r\n          this.getNewsLetters()\r\n          if(jsonData.user.aws_email){\r\n            this.aws_email = jsonData.user.aws_email\r\n          }else{\r\n            this.aws_email = jsonData.user.email\r\n          }\r\n          if(this.$root.userInfo.aws_verification){\r\n          }\r\n          else{\r\n            this.show_verify_email = true\r\n          }\r\n        }\r\n      })\r\n    },\r\n    verifyEmail() {\r\n      var headers = new Headers();\r\n      var formdata = new FormData()\r\n      formdata.append('aws_email',this.aws_email)\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.auth_token);\r\n      fetch(this.api_url+'/employee/verify_mail_aws/', {\r\n          method : 'POST',\r\n          body : formdata,\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        if(jsonData.success){\r\n          // this.$bvModal.hide('aws-verify-modal')\r\n          this.edit_email = false\r\n          this.show_verify_email = false\r\n        }\r\n      })\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n\r\n@import './style/style.css';\r\n  \r\n\r\n  .footer-next{\r\n  height:70px;\r\n  display:flex;\r\n\r\n\r\n  }\r\n</style>\r\n"]}]}